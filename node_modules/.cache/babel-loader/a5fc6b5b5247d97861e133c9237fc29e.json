{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _reactEasySwipe = _interopRequireDefault(require(\"react-easy-swipe\"));\n\nvar _cssClasses = _interopRequireDefault(require(\"../cssClasses\"));\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../CSSTranslate\"));\n\nvar _Thumbs = _interopRequireDefault(require(\"./Thumbs\"));\n\nvar _document = _interopRequireDefault(require(\"../shims/document\"));\n\nvar _window = _interopRequireDefault(require(\"../shims/window\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar noop = function noop() {};\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n  return \"\".concat(current, \" of \").concat(total);\n};\n\nvar isKeyboardEvent = function isKeyboardEvent(e) {\n  return e ? e.hasOwnProperty('key') : false;\n};\n\nvar Carousel = /*#__PURE__*/function (_React$Component) {\n  _inherits(Carousel, _React$Component);\n\n  var _super = _createSuper(Carousel);\n\n  function Carousel(props) {\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"carouselWrapperRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"listRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node) {\n      _this.thumbsRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCarouselWrapperRef\", function (node) {\n      _this.carouselWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setListRef\", function (node) {\n      _this.listRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsRef\", function (node, index) {\n      if (!_this.itemsRef) {\n        _this.itemsRef = [];\n      }\n\n      _this.itemsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"autoPlay\", function () {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.clearAutoPlay();\n\n      _this.timer = setTimeout(function () {\n        _this.increment();\n      }, _this.props.interval);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAutoPlay\", function () {\n      if (_this.timer) clearTimeout(_this.timer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAutoPlay\", function () {\n      _this.clearAutoPlay();\n\n      _this.autoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopOnHover\", function () {\n      _this.setState({\n        isMouseEntered: true\n      }, _this.clearAutoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startOnLeave\", function () {\n      _this.setState({\n        isMouseEntered: false\n      }, _this.autoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isFocusWithinTheCarousel\", function () {\n      if (!_this.carouselWrapperRef) {\n        return false;\n      }\n\n      if ((0, _document.default)().activeElement === _this.carouselWrapperRef || _this.carouselWrapperRef.contains((0, _document.default)().activeElement)) {\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"navigateWithKeyboard\", function (e) {\n      if (!_this.isFocusWithinTheCarousel()) {\n        return;\n      }\n\n      var axis = _this.props.axis;\n      var isHorizontal = axis === 'horizontal';\n      var keyNames = {\n        ArrowUp: 38,\n        ArrowRight: 39,\n        ArrowDown: 40,\n        ArrowLeft: 37\n      };\n      var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n      var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n      if (nextKey === e.keyCode) {\n        _this.increment();\n      } else if (prevKey === e.keyCode) {\n        _this.decrement();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.state.initialized || !_this.itemsRef || _this.itemsRef.length === 0) {\n        return;\n      }\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n      var firstItem = _this.itemsRef[0];\n\n      if (!firstItem) {\n        return;\n      }\n\n      var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n      _this.setState({\n        itemSize: itemSize\n      });\n\n      if (_this.thumbsRef) {\n        _this.thumbsRef.updateSizes();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMountState\", function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item) {\n      if (_react.Children.count(_this.props.children) === 0) {\n        return;\n      }\n\n      if (_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: false\n        });\n\n        return;\n      }\n\n      _this.props.onClickItem(index, item);\n\n      if (index !== _this.state.selectedItem) {\n        _this.setState({\n          selectedItem: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnChange\", function (index, item) {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.props.onChange(index, item);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickThumb\", function (index, item) {\n      _this.props.onClickThumb(index, item);\n\n      _this.moveTo(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function (event) {\n      _this.setState({\n        swiping: true\n      });\n\n      _this.props.onSwipeStart(event);\n\n      _this.clearAutoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function (event) {\n      _this.setState({\n        swiping: false,\n        cancelClick: false,\n        swipeMovementStarted: false\n      });\n\n      _this.props.onSwipeEnd(event);\n\n      _this.autoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (delta, event) {\n      _this.props.onSwipeMove(event);\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n\n      var childrenLength = _react.Children.count(_this.props.children);\n\n      var initialBoundry = 0;\n\n      var currentPosition = _this.getPosition(_this.state.selectedItem);\n\n      var finalBoundry = _this.props.infiniteLoop ? _this.getPosition(childrenLength - 1) - 100 : _this.getPosition(childrenLength - 1);\n      var axisDelta = isHorizontal ? delta.x : delta.y;\n      var handledDelta = axisDelta; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === initialBoundry && axisDelta > 0) {\n        handledDelta = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === finalBoundry && axisDelta < 0) {\n        handledDelta = 0;\n      }\n\n      var position = currentPosition + 100 / (_this.state.itemSize / handledDelta);\n\n      var hasMoved = Math.abs(axisDelta) > _this.props.swipeScrollTolerance;\n\n      if (_this.props.infiniteLoop && hasMoved) {\n        // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n        // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n        if (_this.state.selectedItem === 0 && position > -100) {\n          position -= childrenLength * 100;\n        } else if (_this.state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n          position += childrenLength * 100;\n        }\n      }\n\n      if (!_this.props.preventMovementUntilSwipeScrollTolerance || hasMoved || _this.state.swipeMovementStarted) {\n        if (!_this.state.swipeMovementStarted) {\n          _this.setState({\n            swipeMovementStarted: true\n          });\n        }\n\n        _this.setPosition(position);\n      } // allows scroll if the swipe was within the tolerance\n\n\n      if (hasMoved && !_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n\n      return hasMoved;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setPosition\", function (position, forceReflow) {\n      var list = _reactDom.default.findDOMNode(_this.listRef);\n\n      if (list instanceof HTMLElement) {\n        ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n          list.style[prop] = (0, _CSSTranslate.default)(position, '%', _this.props.axis);\n        });\n\n        if (forceReflow) {\n          list.offsetLeft;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetPosition\", function () {\n      var currentPosition = _this.getPosition(_this.state.selectedItem);\n\n      _this.setPosition(currentPosition);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"decrement\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1), fromSwipe);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"increment\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1), fromSwipe);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position, fromSwipe) {\n      if (typeof position !== 'number') {\n        return;\n      }\n\n      var lastPosition = _react.Children.count(_this.props.children) - 1;\n      var needClonedSlide = _this.props.infiniteLoop && !fromSwipe && (position < 0 || position > lastPosition);\n      var oldPosition = position;\n\n      if (position < 0) {\n        position = _this.props.infiniteLoop ? lastPosition : 0;\n      }\n\n      if (position > lastPosition) {\n        position = _this.props.infiniteLoop ? 0 : lastPosition;\n      }\n\n      if (needClonedSlide) {\n        // set swiping true would disable transition time, then we set slider to cloned position and force a reflow\n        // this is only needed for non-swiping situation\n        _this.setState({\n          swiping: true\n        }, function () {\n          if (oldPosition < 0) {\n            if (_this.props.centerMode && _this.props.centerSlidePercentage && _this.props.axis === 'horizontal') {\n              _this.setPosition(-(lastPosition + 2) * _this.props.centerSlidePercentage - (100 - _this.props.centerSlidePercentage) / 2, true);\n            } else {\n              _this.setPosition(-(lastPosition + 2) * 100, true);\n            }\n          } else if (oldPosition > lastPosition) {\n            _this.setPosition(0, true);\n          }\n\n          _this.selectItem({\n            selectedItem: position,\n            swiping: false\n          });\n        });\n      } else {\n        _this.selectItem({\n          // if it's not a slider, we don't need to set position here\n          selectedItem: position\n        });\n      } // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n      // and will result in the interval function not being cleared correctly.\n\n\n      if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n        _this.resetAutoPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickNext\", function () {\n      _this.increment(1, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickPrev\", function () {\n      _this.decrement(1, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeForward\", function () {\n      _this.increment(1, true);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeBackwards\", function () {\n      _this.decrement(1, true);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeItem\", function (newIndex) {\n      return function (e) {\n        if (!isKeyboardEvent(e) || e.key === 'Enter') {\n          _this.moveTo(newIndex);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (state, cb) {\n      _this.setState(state, cb);\n\n      _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInitialImage\", function () {\n      var selectedItem = _this.props.selectedItem;\n      var item = _this.itemsRef && _this.itemsRef[selectedItem];\n      var images = item && item.getElementsByTagName('img') || [];\n      return images[0];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getVariableItemHeight\", function (position) {\n      var item = _this.itemsRef && _this.itemsRef[position];\n\n      if (_this.state.hasMount && item && item.children.length) {\n        var slideImages = item.children[0].getElementsByTagName('img') || [];\n\n        if (slideImages.length > 0) {\n          var image = slideImages[0];\n\n          if (!image.complete) {\n            // if the image is still loading, the size won't be available so we trigger a new render after it's done\n            var onImageLoad = function onImageLoad() {\n              _this.forceUpdate();\n\n              image.removeEventListener('load', onImageLoad);\n            };\n\n            image.addEventListener('load', onImageLoad);\n          }\n        } // try to get img first, if img not there find first display tag\n\n\n        var displayItem = slideImages[0] || item.children[0];\n        var height = displayItem.clientHeight;\n        return height > 0 ? height : null;\n      }\n\n      return null;\n    });\n\n    _this.state = {\n      initialized: false,\n      selectedItem: props.selectedItem,\n      hasMount: false,\n      isMouseEntered: false,\n      autoPlay: props.autoPlay,\n      swiping: false,\n      swipeMovementStarted: false,\n      cancelClick: false,\n      itemSize: 1\n    };\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.children) {\n        return;\n      }\n\n      this.setupCarousel();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.children && this.props.children && !this.state.initialized) {\n        this.setupCarousel();\n      }\n\n      if (!prevProps.autoFocus && this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      if (prevState.swiping && !this.state.swiping) {\n        // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n        this.resetPosition();\n      }\n\n      if (prevProps.selectedItem !== this.props.selectedItem || prevProps.centerMode !== this.props.centerMode) {\n        this.updateSizes();\n        this.moveTo(this.props.selectedItem);\n      }\n\n      if (prevProps.autoPlay !== this.props.autoPlay) {\n        if (this.props.autoPlay) {\n          this.setupAutoPlay();\n        } else {\n          this.destroyAutoPlay();\n        }\n\n        this.setState({\n          autoPlay: this.props.autoPlay\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyCarousel();\n    }\n  }, {\n    key: \"setupCarousel\",\n    value: function setupCarousel() {\n      var _this2 = this;\n\n      this.bindEvents();\n\n      if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n        this.setupAutoPlay();\n      }\n\n      if (this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      this.setState({\n        initialized: true\n      }, function () {\n        var initialImage = _this2.getInitialImage();\n\n        if (initialImage && !initialImage.complete) {\n          // if it's a carousel of images, we set the mount state after the first image is loaded\n          initialImage.addEventListener('load', _this2.setMountState);\n        } else {\n          _this2.setMountState();\n        }\n      });\n    }\n  }, {\n    key: \"destroyCarousel\",\n    value: function destroyCarousel() {\n      if (this.state.initialized) {\n        this.unbindEvents();\n        this.destroyAutoPlay();\n      }\n    }\n  }, {\n    key: \"setupAutoPlay\",\n    value: function setupAutoPlay() {\n      this.autoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"destroyAutoPlay\",\n    value: function destroyAutoPlay() {\n      this.clearAutoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      (0, _window.default)().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      (0, _window.default)().addEventListener('DOMContentLoaded', this.updateSizes);\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().addEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      // removing listeners\n      (0, _window.default)().removeEventListener('resize', this.updateSizes);\n      (0, _window.default)().removeEventListener('DOMContentLoaded', this.updateSizes);\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        initialImage.removeEventListener('load', this.setMountState);\n      }\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().removeEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"forceFocus\",\n    value: function forceFocus() {\n      var _this$carouselWrapper;\n\n      (_this$carouselWrapper = this.carouselWrapperRef) === null || _this$carouselWrapper === void 0 ? void 0 : _this$carouselWrapper.focus();\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(index) {\n      if (this.props.infiniteLoop) {\n        // index has to be added by 1 because of the first cloned slide\n        ++index;\n      }\n\n      if (index === 0) {\n        return 0;\n      }\n\n      var childrenLength = _react.Children.count(this.props.children);\n\n      if (this.props.centerMode && this.props.axis === 'horizontal') {\n        var currentPosition = -index * this.props.centerSlidePercentage;\n        var lastPosition = childrenLength - 1;\n\n        if (index && (index !== lastPosition || this.props.infiniteLoop)) {\n          currentPosition += (100 - this.props.centerSlidePercentage) / 2;\n        } else if (index === lastPosition) {\n          currentPosition += 100 - this.props.centerSlidePercentage;\n        }\n\n        return currentPosition;\n      }\n\n      return -index * 100;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(isClone) {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return [];\n      }\n\n      return _react.Children.map(this.props.children, function (item, index) {\n        var slideProps = {\n          ref: function ref(e) {\n            return _this3.setItemsRef(e, index);\n          },\n          key: 'itemKey' + index + (isClone ? 'clone' : ''),\n          className: _cssClasses.default.ITEM(true, index === _this3.state.selectedItem),\n          onClick: _this3.handleClickItem.bind(_this3, index, item)\n        };\n        var extraProps = {};\n\n        if (_this3.props.centerMode && _this3.props.axis === 'horizontal') {\n          extraProps.style = {\n            minWidth: _this3.props.centerSlidePercentage + '%'\n          };\n        }\n\n        return /*#__PURE__*/_react.default.createElement(\"li\", _extends({}, slideProps, extraProps), _this3.props.renderItem(item, {\n          isSelected: index === _this3.state.selectedItem\n        }));\n      });\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          showIndicators = _this$props.showIndicators,\n          labels = _this$props.labels,\n          renderIndicator = _this$props.renderIndicator,\n          children = _this$props.children;\n\n      if (!showIndicators) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: \"control-dots\"\n      }, _react.Children.map(children, function (_, index) {\n        return renderIndicator && renderIndicator(_this4.changeItem(index), index === _this4.state.selectedItem, index, labels.item);\n      }));\n    }\n  }, {\n    key: \"renderStatus\",\n    value: function renderStatus() {\n      if (!this.props.showStatus) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"carousel-status\"\n      }, this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children)));\n    }\n  }, {\n    key: \"renderThumbs\",\n    value: function renderThumbs() {\n      if (!this.props.showThumbs || !this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(_Thumbs.default, {\n        ref: this.setThumbsRef,\n        onSelectItem: this.handleClickThumb,\n        selectedItem: this.state.selectedItem,\n        transitionTime: this.props.transitionTime,\n        thumbWidth: this.props.thumbWidth,\n        labels: this.props.labels\n      }, this.props.renderThumbs(this.props.children));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      var isSwipeable = this.props.swipeable && _react.Children.count(this.props.children) > 1;\n      var isHorizontal = this.props.axis === 'horizontal';\n      var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop) || false; // show right arrow\n\n      var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop) || false; // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = this.getPosition(this.state.selectedItem); // if 3d is available, let's take advantage of the performance of transform\n\n      var transformProp = (0, _CSSTranslate.default)(currentPosition, '%', this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        WebkitTransform: transformProp,\n        MozTransform: transformProp,\n        MsTransform: transformProp,\n        OTransform: transformProp,\n        transform: transformProp,\n        msTransform: transformProp\n      };\n\n      if (!this.state.swiping) {\n        itemListStyles = _objectSpread(_objectSpread({}, itemListStyles), {}, {\n          WebkitTransitionDuration: transitionTime,\n          MozTransitionDuration: transitionTime,\n          MsTransitionDuration: transitionTime,\n          OTransitionDuration: transitionTime,\n          transitionDuration: transitionTime,\n          msTransitionDuration: transitionTime\n        });\n      }\n\n      var itemsClone = this.renderItems(true);\n      var firstClone = itemsClone.shift();\n      var lastClone = itemsClone.pop();\n      var swiperProps = {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        tolerance: this.props.swipeScrollTolerance\n      };\n      var containerStyles = {};\n\n      if (isHorizontal) {\n        swiperProps.onSwipeLeft = this.onSwipeForward;\n        swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n        if (this.props.dynamicHeight) {\n          var itemHeight = this.getVariableItemHeight(this.state.selectedItem);\n          swiperProps.style.height = itemHeight || 'auto';\n          containerStyles.height = itemHeight || 'auto';\n        }\n      } else {\n        swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n        swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n        swiperProps.style.height = this.state.itemSize;\n        containerStyles.height = this.state.itemSize;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.ROOT(this.props.className),\n        ref: this.setCarouselWrapperRef,\n        tabIndex: 0\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.CAROUSEL(true),\n        style: {\n          width: this.props.width\n        }\n      }, this.renderControls(), this.props.renderArrowPrev(this.onClickPrev, hasPrev, this.props.labels.leftArrow), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.WRAPPER(true, this.props.axis),\n        style: containerStyles\n      }, isSwipeable ? /*#__PURE__*/_react.default.createElement(_reactEasySwipe.default, _extends({\n        tagName: \"ul\",\n        innerRef: this.setListRef\n      }, swiperProps, {\n        allowMouseEvents: this.props.emulateTouch\n      }), this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone) : /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        ref: function ref(node) {\n          return _this5.setListRef(node);\n        },\n        style: itemListStyles\n      }, this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone)), this.props.renderArrowNext(this.onClickNext, hasNext, this.props.labels.rightArrow), this.renderStatus()), this.renderThumbs());\n    }\n  }]);\n\n  return Carousel;\n}(_react.default.Component);\n\nexports.default = Carousel;\n\n_defineProperty(Carousel, \"displayName\", 'Carousel');\n\n_defineProperty(Carousel, \"defaultProps\", {\n  axis: 'horizontal',\n  centerSlidePercentage: 80,\n  interval: 3000,\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  onClickItem: noop,\n  onClickThumb: noop,\n  onChange: noop,\n  onSwipeStart: function onSwipeStart() {},\n  onSwipeEnd: function onSwipeEnd() {},\n  onSwipeMove: function onSwipeMove() {\n    return false;\n  },\n  preventMovementUntilSwipeScrollTolerance: false,\n  renderArrowPrev: function renderArrowPrev(onClickHandler, hasPrev, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_PREV(!hasPrev),\n      onClick: onClickHandler\n    });\n  },\n  renderArrowNext: function renderArrowNext(onClickHandler, hasNext, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_NEXT(!hasNext),\n      onClick: onClickHandler\n    });\n  },\n  renderIndicator: function renderIndicator(onClickHandler, isSelected, index, label) {\n    return /*#__PURE__*/_react.default.createElement(\"li\", {\n      className: _cssClasses.default.DOT(isSelected),\n      onClick: onClickHandler,\n      onKeyDown: onClickHandler,\n      value: index,\n      key: index,\n      role: \"button\",\n      tabIndex: 0,\n      \"aria-label\": \"\".concat(label, \" \").concat(index + 1)\n    });\n  },\n  renderItem: function renderItem(item) {\n    return item;\n  },\n  renderThumbs: function renderThumbs(children) {\n    var images = _react.Children.map(children, function (item) {\n      var img = item; // if the item is not an image, try to find the first image in the item's children.\n\n      if (item.type !== 'img') {\n        img = _react.Children.toArray(item.props.children).find(function (children) {\n          return children.type === 'img';\n        });\n      }\n\n      if (!img) {\n        return undefined;\n      }\n\n      return img;\n    });\n\n    if (images.filter(function (image) {\n      return image;\n    }).length === 0) {\n      console.warn(\"No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md\");\n      return [];\n    }\n\n    return images;\n  },\n  statusFormatter: defaultStatusFormatter,\n  selectedItem: 0,\n  showArrows: true,\n  showIndicators: true,\n  showStatus: true,\n  showThumbs: true,\n  stopOnHover: true,\n  swipeScrollTolerance: 5,\n  swipeable: true,\n  transitionTime: 350,\n  verticalSwipe: 'standard',\n  width: '100%'\n});","map":{"version":3,"sources":["/Users/liza/Documents/GitHub/artwork-website/node_modules/react-responsive-carousel/lib/js/components/Carousel.js"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireWildcard","require","_reactDom","_interopRequireDefault","_reactEasySwipe","_cssClasses","_CSSTranslate","_Thumbs","_document","_window","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","_typeof","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Symbol","iterator","constructor","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_extends","assign","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","noop","defaultStatusFormatter","current","total","concat","isKeyboardEvent","Carousel","_React$Component","_super","_this","node","thumbsRef","carouselWrapperRef","listRef","index","itemsRef","Children","count","children","clearAutoPlay","timer","setTimeout","increment","interval","clearTimeout","autoPlay","setState","isMouseEntered","activeElement","contains","isFocusWithinTheCarousel","axis","isHorizontal","keyNames","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","nextKey","prevKey","keyCode","decrement","state","initialized","firstItem","itemSize","clientWidth","clientHeight","updateSizes","hasMount","item","cancelClick","onClickItem","selectedItem","onChange","onClickThumb","moveTo","event","swiping","onSwipeStart","swipeMovementStarted","onSwipeEnd","delta","onSwipeMove","childrenLength","initialBoundry","currentPosition","getPosition","finalBoundry","infiniteLoop","axisDelta","x","y","handledDelta","position","hasMoved","Math","abs","swipeScrollTolerance","preventMovementUntilSwipeScrollTolerance","setPosition","forceReflow","list","findDOMNode","HTMLElement","prop","style","offsetLeft","positions","undefined","fromSwipe","lastPosition","needClonedSlide","oldPosition","centerMode","centerSlidePercentage","selectItem","resetAutoPlay","emulateTouch","newIndex","cb","handleOnChange","toArray","images","getElementsByTagName","slideImages","image","complete","onImageLoad","forceUpdate","removeEventListener","addEventListener","displayItem","height","componentDidMount","setupCarousel","componentDidUpdate","prevProps","prevState","autoFocus","forceFocus","resetPosition","setupAutoPlay","destroyAutoPlay","componentWillUnmount","destroyCarousel","_this2","bindEvents","initialImage","getInitialImage","setMountState","unbindEvents","carouselWrapper","stopOnHover","startOnLeave","useKeyboardArrows","navigateWithKeyboard","_this$carouselWrapper","focus","renderItems","isClone","_this3","map","slideProps","ref","setItemsRef","className","ITEM","onClick","handleClickItem","bind","extraProps","minWidth","createElement","renderItem","isSelected","renderControls","_this4","_this$props","showIndicators","labels","renderIndicator","_","changeItem","renderStatus","showStatus","statusFormatter","renderThumbs","showThumbs","setThumbsRef","onSelectItem","handleClickThumb","transitionTime","thumbWidth","render","_this5","isSwipeable","swipeable","canShowArrows","showArrows","hasPrev","hasNext","itemListStyles","transformProp","WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform","WebkitTransitionDuration","MozTransitionDuration","MsTransitionDuration","OTransitionDuration","transitionDuration","msTransitionDuration","itemsClone","firstClone","shift","lastClone","pop","swiperProps","SLIDER","tolerance","containerStyles","onSwipeLeft","onSwipeForward","onSwipeRight","onSwipeBackwards","dynamicHeight","itemHeight","getVariableItemHeight","onSwipeUp","verticalSwipe","onSwipeDown","ROOT","setCarouselWrapperRef","tabIndex","CAROUSEL","width","renderArrowPrev","onClickPrev","leftArrow","WRAPPER","tagName","innerRef","setListRef","allowMouseEvents","renderArrowNext","onClickNext","rightArrow","Component","onClickHandler","label","type","ARROW_PREV","ARROW_NEXT","DOT","onKeyDown","role","img","find","console","warn"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _reactEasySwipe = _interopRequireDefault(require(\"react-easy-swipe\"));\n\nvar _cssClasses = _interopRequireDefault(require(\"../cssClasses\"));\n\nvar _CSSTranslate = _interopRequireDefault(require(\"../CSSTranslate\"));\n\nvar _Thumbs = _interopRequireDefault(require(\"./Thumbs\"));\n\nvar _document = _interopRequireDefault(require(\"../shims/document\"));\n\nvar _window = _interopRequireDefault(require(\"../shims/window\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar noop = function noop() {};\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n  return \"\".concat(current, \" of \").concat(total);\n};\n\nvar isKeyboardEvent = function isKeyboardEvent(e) {\n  return e ? e.hasOwnProperty('key') : false;\n};\n\nvar Carousel = /*#__PURE__*/function (_React$Component) {\n  _inherits(Carousel, _React$Component);\n\n  var _super = _createSuper(Carousel);\n\n  function Carousel(props) {\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"carouselWrapperRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"listRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node) {\n      _this.thumbsRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCarouselWrapperRef\", function (node) {\n      _this.carouselWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setListRef\", function (node) {\n      _this.listRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsRef\", function (node, index) {\n      if (!_this.itemsRef) {\n        _this.itemsRef = [];\n      }\n\n      _this.itemsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"autoPlay\", function () {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.clearAutoPlay();\n\n      _this.timer = setTimeout(function () {\n        _this.increment();\n      }, _this.props.interval);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAutoPlay\", function () {\n      if (_this.timer) clearTimeout(_this.timer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAutoPlay\", function () {\n      _this.clearAutoPlay();\n\n      _this.autoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopOnHover\", function () {\n      _this.setState({\n        isMouseEntered: true\n      }, _this.clearAutoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startOnLeave\", function () {\n      _this.setState({\n        isMouseEntered: false\n      }, _this.autoPlay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isFocusWithinTheCarousel\", function () {\n      if (!_this.carouselWrapperRef) {\n        return false;\n      }\n\n      if ((0, _document.default)().activeElement === _this.carouselWrapperRef || _this.carouselWrapperRef.contains((0, _document.default)().activeElement)) {\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"navigateWithKeyboard\", function (e) {\n      if (!_this.isFocusWithinTheCarousel()) {\n        return;\n      }\n\n      var axis = _this.props.axis;\n      var isHorizontal = axis === 'horizontal';\n      var keyNames = {\n        ArrowUp: 38,\n        ArrowRight: 39,\n        ArrowDown: 40,\n        ArrowLeft: 37\n      };\n      var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n      var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n      if (nextKey === e.keyCode) {\n        _this.increment();\n      } else if (prevKey === e.keyCode) {\n        _this.decrement();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.state.initialized || !_this.itemsRef || _this.itemsRef.length === 0) {\n        return;\n      }\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n      var firstItem = _this.itemsRef[0];\n\n      if (!firstItem) {\n        return;\n      }\n\n      var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n      _this.setState({\n        itemSize: itemSize\n      });\n\n      if (_this.thumbsRef) {\n        _this.thumbsRef.updateSizes();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMountState\", function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item) {\n      if (_react.Children.count(_this.props.children) === 0) {\n        return;\n      }\n\n      if (_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: false\n        });\n\n        return;\n      }\n\n      _this.props.onClickItem(index, item);\n\n      if (index !== _this.state.selectedItem) {\n        _this.setState({\n          selectedItem: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnChange\", function (index, item) {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.props.onChange(index, item);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickThumb\", function (index, item) {\n      _this.props.onClickThumb(index, item);\n\n      _this.moveTo(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function (event) {\n      _this.setState({\n        swiping: true\n      });\n\n      _this.props.onSwipeStart(event);\n\n      _this.clearAutoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function (event) {\n      _this.setState({\n        swiping: false,\n        cancelClick: false,\n        swipeMovementStarted: false\n      });\n\n      _this.props.onSwipeEnd(event);\n\n      _this.autoPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (delta, event) {\n      _this.props.onSwipeMove(event);\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n\n      var childrenLength = _react.Children.count(_this.props.children);\n\n      var initialBoundry = 0;\n\n      var currentPosition = _this.getPosition(_this.state.selectedItem);\n\n      var finalBoundry = _this.props.infiniteLoop ? _this.getPosition(childrenLength - 1) - 100 : _this.getPosition(childrenLength - 1);\n      var axisDelta = isHorizontal ? delta.x : delta.y;\n      var handledDelta = axisDelta; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === initialBoundry && axisDelta > 0) {\n        handledDelta = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === finalBoundry && axisDelta < 0) {\n        handledDelta = 0;\n      }\n\n      var position = currentPosition + 100 / (_this.state.itemSize / handledDelta);\n\n      var hasMoved = Math.abs(axisDelta) > _this.props.swipeScrollTolerance;\n\n      if (_this.props.infiniteLoop && hasMoved) {\n        // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n        // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n        if (_this.state.selectedItem === 0 && position > -100) {\n          position -= childrenLength * 100;\n        } else if (_this.state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n          position += childrenLength * 100;\n        }\n      }\n\n      if (!_this.props.preventMovementUntilSwipeScrollTolerance || hasMoved || _this.state.swipeMovementStarted) {\n        if (!_this.state.swipeMovementStarted) {\n          _this.setState({\n            swipeMovementStarted: true\n          });\n        }\n\n        _this.setPosition(position);\n      } // allows scroll if the swipe was within the tolerance\n\n\n      if (hasMoved && !_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n\n      return hasMoved;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setPosition\", function (position, forceReflow) {\n      var list = _reactDom.default.findDOMNode(_this.listRef);\n\n      if (list instanceof HTMLElement) {\n        ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n          list.style[prop] = (0, _CSSTranslate.default)(position, '%', _this.props.axis);\n        });\n\n        if (forceReflow) {\n          list.offsetLeft;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetPosition\", function () {\n      var currentPosition = _this.getPosition(_this.state.selectedItem);\n\n      _this.setPosition(currentPosition);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"decrement\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1), fromSwipe);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"increment\", function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1), fromSwipe);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position, fromSwipe) {\n      if (typeof position !== 'number') {\n        return;\n      }\n\n      var lastPosition = _react.Children.count(_this.props.children) - 1;\n      var needClonedSlide = _this.props.infiniteLoop && !fromSwipe && (position < 0 || position > lastPosition);\n      var oldPosition = position;\n\n      if (position < 0) {\n        position = _this.props.infiniteLoop ? lastPosition : 0;\n      }\n\n      if (position > lastPosition) {\n        position = _this.props.infiniteLoop ? 0 : lastPosition;\n      }\n\n      if (needClonedSlide) {\n        // set swiping true would disable transition time, then we set slider to cloned position and force a reflow\n        // this is only needed for non-swiping situation\n        _this.setState({\n          swiping: true\n        }, function () {\n          if (oldPosition < 0) {\n            if (_this.props.centerMode && _this.props.centerSlidePercentage && _this.props.axis === 'horizontal') {\n              _this.setPosition(-(lastPosition + 2) * _this.props.centerSlidePercentage - (100 - _this.props.centerSlidePercentage) / 2, true);\n            } else {\n              _this.setPosition(-(lastPosition + 2) * 100, true);\n            }\n          } else if (oldPosition > lastPosition) {\n            _this.setPosition(0, true);\n          }\n\n          _this.selectItem({\n            selectedItem: position,\n            swiping: false\n          });\n        });\n      } else {\n        _this.selectItem({\n          // if it's not a slider, we don't need to set position here\n          selectedItem: position\n        });\n      } // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n      // and will result in the interval function not being cleared correctly.\n\n\n      if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n        _this.resetAutoPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickNext\", function () {\n      _this.increment(1, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickPrev\", function () {\n      _this.decrement(1, false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeForward\", function () {\n      _this.increment(1, true);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeBackwards\", function () {\n      _this.decrement(1, true);\n\n      if (_this.props.emulateTouch) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeItem\", function (newIndex) {\n      return function (e) {\n        if (!isKeyboardEvent(e) || e.key === 'Enter') {\n          _this.moveTo(newIndex);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (state, cb) {\n      _this.setState(state, cb);\n\n      _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInitialImage\", function () {\n      var selectedItem = _this.props.selectedItem;\n      var item = _this.itemsRef && _this.itemsRef[selectedItem];\n      var images = item && item.getElementsByTagName('img') || [];\n      return images[0];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getVariableItemHeight\", function (position) {\n      var item = _this.itemsRef && _this.itemsRef[position];\n\n      if (_this.state.hasMount && item && item.children.length) {\n        var slideImages = item.children[0].getElementsByTagName('img') || [];\n\n        if (slideImages.length > 0) {\n          var image = slideImages[0];\n\n          if (!image.complete) {\n            // if the image is still loading, the size won't be available so we trigger a new render after it's done\n            var onImageLoad = function onImageLoad() {\n              _this.forceUpdate();\n\n              image.removeEventListener('load', onImageLoad);\n            };\n\n            image.addEventListener('load', onImageLoad);\n          }\n        } // try to get img first, if img not there find first display tag\n\n\n        var displayItem = slideImages[0] || item.children[0];\n        var height = displayItem.clientHeight;\n        return height > 0 ? height : null;\n      }\n\n      return null;\n    });\n\n    _this.state = {\n      initialized: false,\n      selectedItem: props.selectedItem,\n      hasMount: false,\n      isMouseEntered: false,\n      autoPlay: props.autoPlay,\n      swiping: false,\n      swipeMovementStarted: false,\n      cancelClick: false,\n      itemSize: 1\n    };\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.children) {\n        return;\n      }\n\n      this.setupCarousel();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.children && this.props.children && !this.state.initialized) {\n        this.setupCarousel();\n      }\n\n      if (!prevProps.autoFocus && this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      if (prevState.swiping && !this.state.swiping) {\n        // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n        this.resetPosition();\n      }\n\n      if (prevProps.selectedItem !== this.props.selectedItem || prevProps.centerMode !== this.props.centerMode) {\n        this.updateSizes();\n        this.moveTo(this.props.selectedItem);\n      }\n\n      if (prevProps.autoPlay !== this.props.autoPlay) {\n        if (this.props.autoPlay) {\n          this.setupAutoPlay();\n        } else {\n          this.destroyAutoPlay();\n        }\n\n        this.setState({\n          autoPlay: this.props.autoPlay\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyCarousel();\n    }\n  }, {\n    key: \"setupCarousel\",\n    value: function setupCarousel() {\n      var _this2 = this;\n\n      this.bindEvents();\n\n      if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n        this.setupAutoPlay();\n      }\n\n      if (this.props.autoFocus) {\n        this.forceFocus();\n      }\n\n      this.setState({\n        initialized: true\n      }, function () {\n        var initialImage = _this2.getInitialImage();\n\n        if (initialImage && !initialImage.complete) {\n          // if it's a carousel of images, we set the mount state after the first image is loaded\n          initialImage.addEventListener('load', _this2.setMountState);\n        } else {\n          _this2.setMountState();\n        }\n      });\n    }\n  }, {\n    key: \"destroyCarousel\",\n    value: function destroyCarousel() {\n      if (this.state.initialized) {\n        this.unbindEvents();\n        this.destroyAutoPlay();\n      }\n    }\n  }, {\n    key: \"setupAutoPlay\",\n    value: function setupAutoPlay() {\n      this.autoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"destroyAutoPlay\",\n    value: function destroyAutoPlay() {\n      this.clearAutoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      (0, _window.default)().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      (0, _window.default)().addEventListener('DOMContentLoaded', this.updateSizes);\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().addEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      // removing listeners\n      (0, _window.default)().removeEventListener('resize', this.updateSizes);\n      (0, _window.default)().removeEventListener('DOMContentLoaded', this.updateSizes);\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        initialImage.removeEventListener('load', this.setMountState);\n      }\n\n      if (this.props.useKeyboardArrows) {\n        (0, _document.default)().removeEventListener('keydown', this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: \"forceFocus\",\n    value: function forceFocus() {\n      var _this$carouselWrapper;\n\n      (_this$carouselWrapper = this.carouselWrapperRef) === null || _this$carouselWrapper === void 0 ? void 0 : _this$carouselWrapper.focus();\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(index) {\n      if (this.props.infiniteLoop) {\n        // index has to be added by 1 because of the first cloned slide\n        ++index;\n      }\n\n      if (index === 0) {\n        return 0;\n      }\n\n      var childrenLength = _react.Children.count(this.props.children);\n\n      if (this.props.centerMode && this.props.axis === 'horizontal') {\n        var currentPosition = -index * this.props.centerSlidePercentage;\n        var lastPosition = childrenLength - 1;\n\n        if (index && (index !== lastPosition || this.props.infiniteLoop)) {\n          currentPosition += (100 - this.props.centerSlidePercentage) / 2;\n        } else if (index === lastPosition) {\n          currentPosition += 100 - this.props.centerSlidePercentage;\n        }\n\n        return currentPosition;\n      }\n\n      return -index * 100;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(isClone) {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return [];\n      }\n\n      return _react.Children.map(this.props.children, function (item, index) {\n        var slideProps = {\n          ref: function ref(e) {\n            return _this3.setItemsRef(e, index);\n          },\n          key: 'itemKey' + index + (isClone ? 'clone' : ''),\n          className: _cssClasses.default.ITEM(true, index === _this3.state.selectedItem),\n          onClick: _this3.handleClickItem.bind(_this3, index, item)\n        };\n        var extraProps = {};\n\n        if (_this3.props.centerMode && _this3.props.axis === 'horizontal') {\n          extraProps.style = {\n            minWidth: _this3.props.centerSlidePercentage + '%'\n          };\n        }\n\n        return /*#__PURE__*/_react.default.createElement(\"li\", _extends({}, slideProps, extraProps), _this3.props.renderItem(item, {\n          isSelected: index === _this3.state.selectedItem\n        }));\n      });\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          showIndicators = _this$props.showIndicators,\n          labels = _this$props.labels,\n          renderIndicator = _this$props.renderIndicator,\n          children = _this$props.children;\n\n      if (!showIndicators) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: \"control-dots\"\n      }, _react.Children.map(children, function (_, index) {\n        return renderIndicator && renderIndicator(_this4.changeItem(index), index === _this4.state.selectedItem, index, labels.item);\n      }));\n    }\n  }, {\n    key: \"renderStatus\",\n    value: function renderStatus() {\n      if (!this.props.showStatus) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"carousel-status\"\n      }, this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children)));\n    }\n  }, {\n    key: \"renderThumbs\",\n    value: function renderThumbs() {\n      if (!this.props.showThumbs || !this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(_Thumbs.default, {\n        ref: this.setThumbsRef,\n        onSelectItem: this.handleClickThumb,\n        selectedItem: this.state.selectedItem,\n        transitionTime: this.props.transitionTime,\n        thumbWidth: this.props.thumbWidth,\n        labels: this.props.labels\n      }, this.props.renderThumbs(this.props.children));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      var isSwipeable = this.props.swipeable && _react.Children.count(this.props.children) > 1;\n      var isHorizontal = this.props.axis === 'horizontal';\n      var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop) || false; // show right arrow\n\n      var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop) || false; // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = this.getPosition(this.state.selectedItem); // if 3d is available, let's take advantage of the performance of transform\n\n      var transformProp = (0, _CSSTranslate.default)(currentPosition, '%', this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        WebkitTransform: transformProp,\n        MozTransform: transformProp,\n        MsTransform: transformProp,\n        OTransform: transformProp,\n        transform: transformProp,\n        msTransform: transformProp\n      };\n\n      if (!this.state.swiping) {\n        itemListStyles = _objectSpread(_objectSpread({}, itemListStyles), {}, {\n          WebkitTransitionDuration: transitionTime,\n          MozTransitionDuration: transitionTime,\n          MsTransitionDuration: transitionTime,\n          OTransitionDuration: transitionTime,\n          transitionDuration: transitionTime,\n          msTransitionDuration: transitionTime\n        });\n      }\n\n      var itemsClone = this.renderItems(true);\n      var firstClone = itemsClone.shift();\n      var lastClone = itemsClone.pop();\n      var swiperProps = {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        tolerance: this.props.swipeScrollTolerance\n      };\n      var containerStyles = {};\n\n      if (isHorizontal) {\n        swiperProps.onSwipeLeft = this.onSwipeForward;\n        swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n        if (this.props.dynamicHeight) {\n          var itemHeight = this.getVariableItemHeight(this.state.selectedItem);\n          swiperProps.style.height = itemHeight || 'auto';\n          containerStyles.height = itemHeight || 'auto';\n        }\n      } else {\n        swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n        swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n        swiperProps.style.height = this.state.itemSize;\n        containerStyles.height = this.state.itemSize;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.ROOT(this.props.className),\n        ref: this.setCarouselWrapperRef,\n        tabIndex: 0\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.CAROUSEL(true),\n        style: {\n          width: this.props.width\n        }\n      }, this.renderControls(), this.props.renderArrowPrev(this.onClickPrev, hasPrev, this.props.labels.leftArrow), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: _cssClasses.default.WRAPPER(true, this.props.axis),\n        style: containerStyles\n      }, isSwipeable ? /*#__PURE__*/_react.default.createElement(_reactEasySwipe.default, _extends({\n        tagName: \"ul\",\n        innerRef: this.setListRef\n      }, swiperProps, {\n        allowMouseEvents: this.props.emulateTouch\n      }), this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone) : /*#__PURE__*/_react.default.createElement(\"ul\", {\n        className: _cssClasses.default.SLIDER(true, this.state.swiping),\n        ref: function ref(node) {\n          return _this5.setListRef(node);\n        },\n        style: itemListStyles\n      }, this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone)), this.props.renderArrowNext(this.onClickNext, hasNext, this.props.labels.rightArrow), this.renderStatus()), this.renderThumbs());\n    }\n  }]);\n\n  return Carousel;\n}(_react.default.Component);\n\nexports.default = Carousel;\n\n_defineProperty(Carousel, \"displayName\", 'Carousel');\n\n_defineProperty(Carousel, \"defaultProps\", {\n  axis: 'horizontal',\n  centerSlidePercentage: 80,\n  interval: 3000,\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  onClickItem: noop,\n  onClickThumb: noop,\n  onChange: noop,\n  onSwipeStart: function onSwipeStart() {},\n  onSwipeEnd: function onSwipeEnd() {},\n  onSwipeMove: function onSwipeMove() {\n    return false;\n  },\n  preventMovementUntilSwipeScrollTolerance: false,\n  renderArrowPrev: function renderArrowPrev(onClickHandler, hasPrev, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_PREV(!hasPrev),\n      onClick: onClickHandler\n    });\n  },\n  renderArrowNext: function renderArrowNext(onClickHandler, hasNext, label) {\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": label,\n      className: _cssClasses.default.ARROW_NEXT(!hasNext),\n      onClick: onClickHandler\n    });\n  },\n  renderIndicator: function renderIndicator(onClickHandler, isSelected, index, label) {\n    return /*#__PURE__*/_react.default.createElement(\"li\", {\n      className: _cssClasses.default.DOT(isSelected),\n      onClick: onClickHandler,\n      onKeyDown: onClickHandler,\n      value: index,\n      key: index,\n      role: \"button\",\n      tabIndex: 0,\n      \"aria-label\": \"\".concat(label, \" \").concat(index + 1)\n    });\n  },\n  renderItem: function renderItem(item) {\n    return item;\n  },\n  renderThumbs: function renderThumbs(children) {\n    var images = _react.Children.map(children, function (item) {\n      var img = item; // if the item is not an image, try to find the first image in the item's children.\n\n      if (item.type !== 'img') {\n        img = _react.Children.toArray(item.props.children).find(function (children) {\n          return children.type === 'img';\n        });\n      }\n\n      if (!img) {\n        return undefined;\n      }\n\n      return img;\n    });\n\n    if (images.filter(function (image) {\n      return image;\n    }).length === 0) {\n      console.warn(\"No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md\");\n      return [];\n    }\n\n    return images;\n  },\n  statusFormatter: defaultStatusFormatter,\n  selectedItem: 0,\n  showArrows: true,\n  showIndicators: true,\n  showStatus: true,\n  showThumbs: true,\n  stopOnHover: true,\n  swipeScrollTolerance: 5,\n  swipeable: true,\n  transitionTime: 350,\n  verticalSwipe: 'standard',\n  width: '100%'\n});"]},"metadata":{},"sourceType":"script"}