{"ast":null,"code":"'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactImages = require('react-images');\n\nvar _reactImages2 = _interopRequireDefault(_reactImages);\n\nvar _Image = require('./Image.js');\n\nvar _Image2 = _interopRequireDefault(_Image);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Gallery = function (_Component) {\n  _inherits(Gallery, _Component);\n\n  function Gallery(props) {\n    _classCallCheck(this, Gallery);\n\n    var _this = _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).call(this, props));\n\n    _this.state = {\n      images: _this.props.images,\n      thumbnails: [],\n      lightboxIsOpen: _this.props.isOpen,\n      currentImage: _this.props.currentImage,\n      containerWidth: 0\n    };\n    _this.onResize = _this.onResize.bind(_this);\n    _this.closeLightbox = _this.closeLightbox.bind(_this);\n    _this.gotoImage = _this.gotoImage.bind(_this);\n    _this.gotoNext = _this.gotoNext.bind(_this);\n    _this.gotoPrevious = _this.gotoPrevious.bind(_this);\n    _this.onClickImage = _this.onClickImage.bind(_this);\n    _this.openLightbox = _this.openLightbox.bind(_this);\n    _this.onSelectImage = _this.onSelectImage.bind(_this);\n    return _this;\n  }\n\n  _createClass(Gallery, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.onResize();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(np) {\n      if (this.state.currentImage > np.images.length - 1) {\n        this.setState({\n          currentImage: np.images.length - 1\n        });\n      }\n\n      if (this.state.images != np.images || this.props.maxRows != np.maxRows) {\n        this.setState({\n          images: np.images,\n          thumbnails: this.renderThumbs(this._gallery.clientWidth, np.images)\n        });\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!this._gallery) return;\n\n      if (this._gallery.clientWidth !== this.state.containerWidth) {\n        this.onResize();\n      }\n    }\n  }, {\n    key: 'onResize',\n    value: function onResize() {\n      if (!this._gallery) return;\n      this.setState({\n        containerWidth: Math.floor(this._gallery.clientWidth),\n        thumbnails: this.renderThumbs(this._gallery.clientWidth)\n      });\n    }\n  }, {\n    key: 'openLightbox',\n    value: function openLightbox(index, event) {\n      if (event) {\n        event.preventDefault();\n      }\n\n      if (this.props.lightboxWillOpen) {\n        this.props.lightboxWillOpen.call(this, index);\n      }\n\n      if (this.props.currentImageWillChange) {\n        this.props.currentImageWillChange.call(this, index);\n      }\n\n      this.setState({\n        currentImage: index,\n        lightboxIsOpen: true\n      });\n    }\n  }, {\n    key: 'closeLightbox',\n    value: function closeLightbox() {\n      if (this.props.lightboxWillClose) {\n        this.props.lightboxWillClose.call(this);\n      }\n\n      if (this.props.currentImageWillChange) {\n        this.props.currentImageWillChange.call(this, 0);\n      }\n\n      this.setState({\n        currentImage: 0,\n        lightboxIsOpen: false\n      });\n    }\n  }, {\n    key: 'gotoPrevious',\n    value: function gotoPrevious() {\n      if (this.props.currentImageWillChange) {\n        this.props.currentImageWillChange.call(this, this.state.currentImage - 1);\n      }\n\n      this.setState({\n        currentImage: this.state.currentImage - 1\n      });\n    }\n  }, {\n    key: 'gotoNext',\n    value: function gotoNext() {\n      if (this.props.currentImageWillChange) {\n        this.props.currentImageWillChange.call(this, this.state.currentImage + 1);\n      }\n\n      this.setState({\n        currentImage: this.state.currentImage + 1\n      });\n    }\n  }, {\n    key: 'onClickImage',\n    value: function onClickImage() {\n      if (this.state.currentImage === this.props.images.length - 1) return;\n      this.gotoNext();\n    }\n  }, {\n    key: 'onSelectImage',\n    value: function onSelectImage(index, event) {\n      event.preventDefault();\n      if (this.props.onSelectImage) this.props.onSelectImage.call(this, index, this.state.images[index]);\n    }\n  }, {\n    key: 'gotoImage',\n    value: function gotoImage(index) {\n      if (this.props.currentImageWillChange) {\n        this.props.currentImageWillChange.call(this, index);\n      }\n\n      this.setState({\n        currentImage: index\n      });\n    }\n  }, {\n    key: 'getOnClickThumbnailFn',\n    value: function getOnClickThumbnailFn() {\n      if (!this.props.onClickThumbnail && this.props.enableLightbox) return this.openLightbox;\n      if (this.props.onClickThumbnail) return this.props.onClickThumbnail;\n      return null;\n    }\n  }, {\n    key: 'getOnClickLightboxThumbnailFn',\n    value: function getOnClickLightboxThumbnailFn() {\n      if (!this.props.onClickLightboxThumbnail && this.props.showLightboxThumbnails) return this.gotoImage;\n      if (this.props.onClickLightboxThumbnail && this.props.showLightboxThumbnails) return this.props.onClickLightboxThumbnail;\n      return null;\n    }\n  }, {\n    key: 'getOnClickImageFn',\n    value: function getOnClickImageFn() {\n      if (this.props.onClickImage) return this.props.onClickImage;\n      return this.onClickImage;\n    }\n  }, {\n    key: 'getOnClickPrevFn',\n    value: function getOnClickPrevFn() {\n      if (this.props.onClickPrev) return this.props.onClickPrev;\n      return this.gotoPrevious;\n    }\n  }, {\n    key: 'getOnClickNextFn',\n    value: function getOnClickNextFn() {\n      if (this.props.onClickNext) return this.props.onClickNext;\n      return this.gotoNext;\n    }\n  }, {\n    key: 'calculateCutOff',\n    value: function calculateCutOff(len, delta, items) {\n      var cutoff = [];\n      var cutsum = 0;\n\n      for (var i in items) {\n        var item = items[i];\n        var fractOfLen = item.scaletwidth / len;\n        cutoff[i] = Math.floor(fractOfLen * delta);\n        cutsum += cutoff[i];\n      }\n\n      var stillToCutOff = delta - cutsum;\n\n      while (stillToCutOff > 0) {\n        for (i in cutoff) {\n          cutoff[i]++;\n          stillToCutOff--;\n          if (stillToCutOff < 0) break;\n        }\n      }\n\n      return cutoff;\n    }\n  }, {\n    key: 'buildImageRow',\n    value: function buildImageRow(items, containerWidth) {\n      var row = [];\n      var len = 0;\n      var imgMargin = 2 * this.props.margin;\n\n      while (items.length > 0 && len < containerWidth) {\n        var item = items.shift();\n        row.push(item);\n        len += item.scaletwidth + imgMargin;\n      }\n\n      var delta = len - containerWidth;\n\n      if (row.length > 0 && delta > 0) {\n        var cutoff = this.calculateCutOff(len, delta, row);\n\n        for (var i in row) {\n          var pixelsToRemove = cutoff[i];\n          item = row[i];\n          item.marginLeft = -Math.abs(Math.floor(pixelsToRemove / 2));\n          item.vwidth = item.scaletwidth - pixelsToRemove;\n        }\n      } else {\n        for (var j in row) {\n          item = row[j];\n          item.marginLeft = 0;\n          item.vwidth = item.scaletwidth;\n        }\n      }\n\n      return row;\n    }\n  }, {\n    key: 'setThumbScale',\n    value: function setThumbScale(item) {\n      item.scaletwidth = Math.floor(this.props.rowHeight * (item.thumbnailWidth / item.thumbnailHeight));\n    }\n  }, {\n    key: 'renderThumbs',\n    value: function renderThumbs(containerWidth) {\n      var images = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state.images;\n      if (!images) return [];\n      if (containerWidth == 0) return [];\n      var items = images.slice();\n\n      for (var t in items) {\n        this.setThumbScale(items[t]);\n      }\n\n      var thumbs = [];\n      var rows = [];\n\n      while (items.length > 0) {\n        rows.push(this.buildImageRow(items, containerWidth));\n      }\n\n      for (var r in rows) {\n        for (var i in rows[r]) {\n          var item = rows[r][i];\n\n          if (this.props.maxRows) {\n            if (r < this.props.maxRows) {\n              thumbs.push(item);\n            }\n          } else {\n            thumbs.push(item);\n          }\n        }\n      }\n\n      return thumbs;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var images = this.state.thumbnails.map(function (item, idx) {\n        return _react2.default.createElement(_Image2.default, {\n          key: \"Image-\" + idx + \"-\" + item.src,\n          item: item,\n          index: idx,\n          margin: _this2.props.margin,\n          height: _this2.props.rowHeight,\n          isSelectable: _this2.props.enableImageSelection,\n          onClick: _this2.getOnClickThumbnailFn(),\n          onSelectImage: _this2.onSelectImage,\n          tagStyle: _this2.props.tagStyle,\n          tileViewportStyle: _this2.props.tileViewportStyle,\n          thumbnailStyle: _this2.props.thumbnailStyle,\n          thumbnailImageComponent: _this2.props.thumbnailImageComponent\n        });\n      });\n      var resizeIframeStyles = {\n        height: 0,\n        margin: 0,\n        padding: 0,\n        overflow: \"hidden\",\n        borderWidth: 0,\n        position: \"fixed\",\n        backgroundColor: \"transparent\",\n        width: \"100%\"\n      };\n      return _react2.default.createElement('div', {\n        id: this.props.id,\n        className: 'ReactGridGallery',\n        ref: function ref(c) {\n          return _this2._gallery = c;\n        }\n      }, _react2.default.createElement('iframe', {\n        style: resizeIframeStyles,\n        ref: function ref(c) {\n          return c && c.contentWindow && c.contentWindow.addEventListener('resize', _this2.onResize);\n        }\n      }), images, _react2.default.createElement(_reactImages2.default, _extends({\n        images: this.props.images,\n        backdropClosesModal: this.props.backdropClosesModal,\n        currentImage: this.state.currentImage,\n        preloadNextImage: this.props.preloadNextImage,\n        customControls: this.props.customControls,\n        enableKeyboardInput: this.props.enableKeyboardInput,\n        imageCountSeparator: this.props.imageCountSeparator,\n        isOpen: this.state.lightboxIsOpen,\n        onClickImage: this.getOnClickImageFn(),\n        onClickNext: this.getOnClickNextFn(),\n        onClickPrev: this.getOnClickPrevFn(),\n        showCloseButton: this.props.showCloseButton,\n        showImageCount: this.props.showImageCount,\n        onClose: this.closeLightbox,\n        width: this.props.lightboxWidth,\n        theme: this.props.theme,\n        onClickThumbnail: this.getOnClickLightboxThumbnailFn(),\n        showThumbnails: this.props.showLightboxThumbnails\n      }, this.props.lightBoxProps)));\n    }\n  }]);\n\n  return Gallery;\n}(_react.Component);\n\nGallery.displayName = 'Gallery';\nGallery.propTypes = {\n  images: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    src: _propTypes2.default.string.isRequired,\n    nano: _propTypes2.default.string,\n    alt: _propTypes2.default.string,\n    thumbnail: _propTypes2.default.string.isRequired,\n    srcset: _propTypes2.default.array,\n    caption: _propTypes2.default.string,\n    tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n      value: _propTypes2.default.string.isRequired,\n      title: _propTypes2.default.string.isRequired\n    })),\n    thumbnailWidth: _propTypes2.default.number.isRequired,\n    thumbnailHeight: _propTypes2.default.number.isRequired,\n    isSelected: _propTypes2.default.bool,\n    thumbnailCaption: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element])\n  })).isRequired,\n  id: _propTypes2.default.string,\n  enableImageSelection: _propTypes2.default.bool,\n  onSelectImage: _propTypes2.default.func,\n  rowHeight: _propTypes2.default.number,\n  maxRows: _propTypes2.default.number,\n  margin: _propTypes2.default.number,\n  onClickThumbnail: _propTypes2.default.func,\n  lightboxWillOpen: _propTypes2.default.func,\n  lightboxWillClose: _propTypes2.default.func,\n  enableLightbox: _propTypes2.default.bool,\n  backdropClosesModal: _propTypes2.default.bool,\n  currentImage: _propTypes2.default.number,\n  preloadNextImage: _propTypes2.default.bool,\n  customControls: _propTypes2.default.arrayOf(_propTypes2.default.node),\n  currentImageWillChange: _propTypes2.default.func,\n  enableKeyboardInput: _propTypes2.default.bool,\n  imageCountSeparator: _propTypes2.default.string,\n  isOpen: _propTypes2.default.bool,\n  onClickImage: _propTypes2.default.func,\n  onClickNext: _propTypes2.default.func,\n  onClickPrev: _propTypes2.default.func,\n  onClose: _propTypes2.default.func,\n  showCloseButton: _propTypes2.default.bool,\n  showImageCount: _propTypes2.default.bool,\n  lightboxWidth: _propTypes2.default.number,\n  tileViewportStyle: _propTypes2.default.func,\n  thumbnailStyle: _propTypes2.default.func,\n  showLightboxThumbnails: _propTypes2.default.bool,\n  onClickLightboxThumbnail: _propTypes2.default.func,\n  tagStyle: _propTypes2.default.object,\n  thumbnailImageComponent: _propTypes2.default.func,\n  lightBoxProps: _propTypes2.default.object\n};\nGallery.defaultProps = {\n  id: \"ReactGridGallery\",\n  enableImageSelection: true,\n  rowHeight: 180,\n  margin: 2,\n  enableLightbox: true,\n  backdropClosesModal: false,\n  currentImage: 0,\n  preloadNextImage: true,\n  enableKeyboardInput: true,\n  imageCountSeparator: ' of ',\n  isOpen: false,\n  showCloseButton: true,\n  showImageCount: true,\n  lightboxWidth: 1024,\n  showLightboxThumbnails: false,\n  lightBoxProps: {}\n};\nmodule.exports = Gallery;","map":{"version":3,"sources":["/Users/liza/Documents/GitHub/artwork-website/art/node_modules/react-grid-gallery/lib/Gallery.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_propTypes","require","_propTypes2","_interopRequireDefault","_react","_react2","_reactImages","_reactImages2","_Image","_Image2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","Gallery","_Component","_this","getPrototypeOf","state","images","thumbnails","lightboxIsOpen","isOpen","currentImage","containerWidth","onResize","bind","closeLightbox","gotoImage","gotoNext","gotoPrevious","onClickImage","openLightbox","onSelectImage","componentDidMount","componentWillReceiveProps","np","setState","maxRows","renderThumbs","_gallery","clientWidth","componentDidUpdate","Math","floor","index","event","preventDefault","lightboxWillOpen","currentImageWillChange","lightboxWillClose","getOnClickThumbnailFn","onClickThumbnail","enableLightbox","getOnClickLightboxThumbnailFn","onClickLightboxThumbnail","showLightboxThumbnails","getOnClickImageFn","getOnClickPrevFn","onClickPrev","getOnClickNextFn","onClickNext","calculateCutOff","len","delta","items","cutoff","cutsum","item","fractOfLen","scaletwidth","stillToCutOff","buildImageRow","row","imgMargin","margin","shift","push","pixelsToRemove","marginLeft","abs","vwidth","j","setThumbScale","rowHeight","thumbnailWidth","thumbnailHeight","undefined","slice","t","thumbs","rows","r","render","_this2","map","idx","createElement","src","height","isSelectable","enableImageSelection","onClick","tagStyle","tileViewportStyle","thumbnailStyle","thumbnailImageComponent","resizeIframeStyles","padding","overflow","borderWidth","position","backgroundColor","width","id","className","ref","c","style","contentWindow","addEventListener","backdropClosesModal","preloadNextImage","customControls","enableKeyboardInput","imageCountSeparator","showCloseButton","showImageCount","onClose","lightboxWidth","theme","showThumbnails","lightBoxProps","Component","displayName","propTypes","arrayOf","shape","string","isRequired","nano","alt","thumbnail","srcset","array","caption","tags","title","number","isSelected","bool","thumbnailCaption","oneOfType","element","func","node","object","defaultProps","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BV,MAA1B,EAAkCW,KAAlC,EAAyC;AAAE,SAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,KAAK,CAACR,MAA1B,EAAkCF,CAAC,EAAnC,EAAuC;AAAE,UAAIW,UAAU,GAAGD,KAAK,CAACV,CAAD,CAAtB;AAA2BW,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BjB,MAAAA,MAAM,CAACkB,cAAP,CAAsBhB,MAAtB,EAA8BY,UAAU,CAACP,GAAzC,EAA8CO,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBR,gBAAgB,CAACO,WAAW,CAACX,SAAb,EAAwBY,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBT,gBAAgB,CAACO,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAIG,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIC,WAAW,GAAGC,sBAAsB,CAACH,UAAD,CAAxC;;AAEA,IAAII,MAAM,GAAGH,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAII,OAAO,GAAGF,sBAAsB,CAACC,MAAD,CAApC;;AAEA,IAAIE,YAAY,GAAGL,OAAO,CAAC,cAAD,CAA1B;;AAEA,IAAIM,aAAa,GAAGJ,sBAAsB,CAACG,YAAD,CAA1C;;AAEA,IAAIE,MAAM,GAAGP,OAAO,CAAC,YAAD,CAApB;;AAEA,IAAIQ,OAAO,GAAGN,sBAAsB,CAACK,MAAD,CAApC;;AAEA,SAASL,sBAAT,CAAgCO,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,eAAT,CAAyBC,QAAzB,EAAmCjB,WAAnC,EAAgD;AAAE,MAAI,EAAEiB,QAAQ,YAAYjB,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIkB,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0C7B,IAA1C,EAAgD;AAAE,MAAI,CAAC6B,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAO9B,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0E6B,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAAClC,SAAT,GAAqBR,MAAM,CAAC4C,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACnC,SAAvC,EAAkD;AAAEqC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,KAAK,EAAEJ,QAAT;AAAmB3B,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAI2B,UAAJ,EAAgB3C,MAAM,CAAC+C,cAAP,GAAwB/C,MAAM,CAAC+C,cAAP,CAAsBL,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACM,SAAT,GAAqBL,UAA3F;AAAwG;;AAE9e,IAAIM,OAAO,GAAG,UAAUC,UAAV,EAAsB;AAChCT,EAAAA,SAAS,CAACQ,OAAD,EAAUC,UAAV,CAAT;;AAEA,WAASD,OAAT,CAAiBpC,KAAjB,EAAwB;AACpBsB,IAAAA,eAAe,CAAC,IAAD,EAAOc,OAAP,CAAf;;AAEA,QAAIE,KAAK,GAAGb,0BAA0B,CAAC,IAAD,EAAO,CAACW,OAAO,CAACD,SAAR,IAAqBhD,MAAM,CAACoD,cAAP,CAAsBH,OAAtB,CAAtB,EAAsDvC,IAAtD,CAA2D,IAA3D,EAAiEG,KAAjE,CAAP,CAAtC;;AAEAsC,IAAAA,KAAK,CAACE,KAAN,GAAc;AACVC,MAAAA,MAAM,EAAEH,KAAK,CAACtC,KAAN,CAAYyC,MADV;AAEVC,MAAAA,UAAU,EAAE,EAFF;AAGVC,MAAAA,cAAc,EAAEL,KAAK,CAACtC,KAAN,CAAY4C,MAHlB;AAIVC,MAAAA,YAAY,EAAEP,KAAK,CAACtC,KAAN,CAAY6C,YAJhB;AAKVC,MAAAA,cAAc,EAAE;AALN,KAAd;AAQAR,IAAAA,KAAK,CAACS,QAAN,GAAiBT,KAAK,CAACS,QAAN,CAAeC,IAAf,CAAoBV,KAApB,CAAjB;AACAA,IAAAA,KAAK,CAACW,aAAN,GAAsBX,KAAK,CAACW,aAAN,CAAoBD,IAApB,CAAyBV,KAAzB,CAAtB;AACAA,IAAAA,KAAK,CAACY,SAAN,GAAkBZ,KAAK,CAACY,SAAN,CAAgBF,IAAhB,CAAqBV,KAArB,CAAlB;AACAA,IAAAA,KAAK,CAACa,QAAN,GAAiBb,KAAK,CAACa,QAAN,CAAeH,IAAf,CAAoBV,KAApB,CAAjB;AACAA,IAAAA,KAAK,CAACc,YAAN,GAAqBd,KAAK,CAACc,YAAN,CAAmBJ,IAAnB,CAAwBV,KAAxB,CAArB;AACAA,IAAAA,KAAK,CAACe,YAAN,GAAqBf,KAAK,CAACe,YAAN,CAAmBL,IAAnB,CAAwBV,KAAxB,CAArB;AACAA,IAAAA,KAAK,CAACgB,YAAN,GAAqBhB,KAAK,CAACgB,YAAN,CAAmBN,IAAnB,CAAwBV,KAAxB,CAArB;AACAA,IAAAA,KAAK,CAACiB,aAAN,GAAsBjB,KAAK,CAACiB,aAAN,CAAoBP,IAApB,CAAyBV,KAAzB,CAAtB;AACA,WAAOA,KAAP;AACH;;AAEDxC,EAAAA,YAAY,CAACsC,OAAD,EAAU,CAAC;AACnB1C,IAAAA,GAAG,EAAE,mBADc;AAEnBuC,IAAAA,KAAK,EAAE,SAASuB,iBAAT,GAA6B;AAChC,WAAKT,QAAL;AACH;AAJkB,GAAD,EAKnB;AACCrD,IAAAA,GAAG,EAAE,2BADN;AAECuC,IAAAA,KAAK,EAAE,SAASwB,yBAAT,CAAmCC,EAAnC,EAAuC;AAC1C,UAAI,KAAKlB,KAAL,CAAWK,YAAX,GAA0Ba,EAAE,CAACjB,MAAH,CAAUjD,MAAV,GAAmB,CAAjD,EAAoD;AAChD,aAAKmE,QAAL,CAAc;AAAEd,UAAAA,YAAY,EAAEa,EAAE,CAACjB,MAAH,CAAUjD,MAAV,GAAmB;AAAnC,SAAd;AACH;;AACD,UAAI,KAAKgD,KAAL,CAAWC,MAAX,IAAqBiB,EAAE,CAACjB,MAAxB,IAAkC,KAAKzC,KAAL,CAAW4D,OAAX,IAAsBF,EAAE,CAACE,OAA/D,EAAwE;AACpE,aAAKD,QAAL,CAAc;AACVlB,UAAAA,MAAM,EAAEiB,EAAE,CAACjB,MADD;AAEVC,UAAAA,UAAU,EAAE,KAAKmB,YAAL,CAAkB,KAAKC,QAAL,CAAcC,WAAhC,EAA6CL,EAAE,CAACjB,MAAhD;AAFF,SAAd;AAIH;AACJ;AAZF,GALmB,EAkBnB;AACC/C,IAAAA,GAAG,EAAE,oBADN;AAECuC,IAAAA,KAAK,EAAE,SAAS+B,kBAAT,GAA8B;AACjC,UAAI,CAAC,KAAKF,QAAV,EAAoB;;AACpB,UAAI,KAAKA,QAAL,CAAcC,WAAd,KAA8B,KAAKvB,KAAL,CAAWM,cAA7C,EAA6D;AACzD,aAAKC,QAAL;AACH;AACJ;AAPF,GAlBmB,EA0BnB;AACCrD,IAAAA,GAAG,EAAE,UADN;AAECuC,IAAAA,KAAK,EAAE,SAASc,QAAT,GAAoB;AACvB,UAAI,CAAC,KAAKe,QAAV,EAAoB;AACpB,WAAKH,QAAL,CAAc;AACVb,QAAAA,cAAc,EAAEmB,IAAI,CAACC,KAAL,CAAW,KAAKJ,QAAL,CAAcC,WAAzB,CADN;AAEVrB,QAAAA,UAAU,EAAE,KAAKmB,YAAL,CAAkB,KAAKC,QAAL,CAAcC,WAAhC;AAFF,OAAd;AAIH;AARF,GA1BmB,EAmCnB;AACCrE,IAAAA,GAAG,EAAE,cADN;AAECuC,IAAAA,KAAK,EAAE,SAASqB,YAAT,CAAsBa,KAAtB,EAA6BC,KAA7B,EAAoC;AACvC,UAAIA,KAAJ,EAAW;AACPA,QAAAA,KAAK,CAACC,cAAN;AACH;;AACD,UAAI,KAAKrE,KAAL,CAAWsE,gBAAf,EAAiC;AAC7B,aAAKtE,KAAL,CAAWsE,gBAAX,CAA4BzE,IAA5B,CAAiC,IAAjC,EAAuCsE,KAAvC;AACH;;AACD,UAAI,KAAKnE,KAAL,CAAWuE,sBAAf,EAAuC;AACnC,aAAKvE,KAAL,CAAWuE,sBAAX,CAAkC1E,IAAlC,CAAuC,IAAvC,EAA6CsE,KAA7C;AACH;;AAED,WAAKR,QAAL,CAAc;AACVd,QAAAA,YAAY,EAAEsB,KADJ;AAEVxB,QAAAA,cAAc,EAAE;AAFN,OAAd;AAIH;AAjBF,GAnCmB,EAqDnB;AACCjD,IAAAA,GAAG,EAAE,eADN;AAECuC,IAAAA,KAAK,EAAE,SAASgB,aAAT,GAAyB;AAC5B,UAAI,KAAKjD,KAAL,CAAWwE,iBAAf,EAAkC;AAC9B,aAAKxE,KAAL,CAAWwE,iBAAX,CAA6B3E,IAA7B,CAAkC,IAAlC;AACH;;AACD,UAAI,KAAKG,KAAL,CAAWuE,sBAAf,EAAuC;AACnC,aAAKvE,KAAL,CAAWuE,sBAAX,CAAkC1E,IAAlC,CAAuC,IAAvC,EAA6C,CAA7C;AACH;;AAED,WAAK8D,QAAL,CAAc;AACVd,QAAAA,YAAY,EAAE,CADJ;AAEVF,QAAAA,cAAc,EAAE;AAFN,OAAd;AAIH;AAdF,GArDmB,EAoEnB;AACCjD,IAAAA,GAAG,EAAE,cADN;AAECuC,IAAAA,KAAK,EAAE,SAASmB,YAAT,GAAwB;AAC3B,UAAI,KAAKpD,KAAL,CAAWuE,sBAAf,EAAuC;AACnC,aAAKvE,KAAL,CAAWuE,sBAAX,CAAkC1E,IAAlC,CAAuC,IAAvC,EAA6C,KAAK2C,KAAL,CAAWK,YAAX,GAA0B,CAAvE;AACH;;AACD,WAAKc,QAAL,CAAc;AACVd,QAAAA,YAAY,EAAE,KAAKL,KAAL,CAAWK,YAAX,GAA0B;AAD9B,OAAd;AAGH;AATF,GApEmB,EA8EnB;AACCnD,IAAAA,GAAG,EAAE,UADN;AAECuC,IAAAA,KAAK,EAAE,SAASkB,QAAT,GAAoB;AACvB,UAAI,KAAKnD,KAAL,CAAWuE,sBAAf,EAAuC;AACnC,aAAKvE,KAAL,CAAWuE,sBAAX,CAAkC1E,IAAlC,CAAuC,IAAvC,EAA6C,KAAK2C,KAAL,CAAWK,YAAX,GAA0B,CAAvE;AACH;;AACD,WAAKc,QAAL,CAAc;AACVd,QAAAA,YAAY,EAAE,KAAKL,KAAL,CAAWK,YAAX,GAA0B;AAD9B,OAAd;AAGH;AATF,GA9EmB,EAwFnB;AACCnD,IAAAA,GAAG,EAAE,cADN;AAECuC,IAAAA,KAAK,EAAE,SAASoB,YAAT,GAAwB;AAC3B,UAAI,KAAKb,KAAL,CAAWK,YAAX,KAA4B,KAAK7C,KAAL,CAAWyC,MAAX,CAAkBjD,MAAlB,GAA2B,CAA3D,EAA8D;AAC9D,WAAK2D,QAAL;AACH;AALF,GAxFmB,EA8FnB;AACCzD,IAAAA,GAAG,EAAE,eADN;AAECuC,IAAAA,KAAK,EAAE,SAASsB,aAAT,CAAuBY,KAAvB,EAA8BC,KAA9B,EAAqC;AACxCA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAI,KAAKrE,KAAL,CAAWuD,aAAf,EAA8B,KAAKvD,KAAL,CAAWuD,aAAX,CAAyB1D,IAAzB,CAA8B,IAA9B,EAAoCsE,KAApC,EAA2C,KAAK3B,KAAL,CAAWC,MAAX,CAAkB0B,KAAlB,CAA3C;AACjC;AALF,GA9FmB,EAoGnB;AACCzE,IAAAA,GAAG,EAAE,WADN;AAECuC,IAAAA,KAAK,EAAE,SAASiB,SAAT,CAAmBiB,KAAnB,EAA0B;AAC7B,UAAI,KAAKnE,KAAL,CAAWuE,sBAAf,EAAuC;AACnC,aAAKvE,KAAL,CAAWuE,sBAAX,CAAkC1E,IAAlC,CAAuC,IAAvC,EAA6CsE,KAA7C;AACH;;AACD,WAAKR,QAAL,CAAc;AACVd,QAAAA,YAAY,EAAEsB;AADJ,OAAd;AAGH;AATF,GApGmB,EA8GnB;AACCzE,IAAAA,GAAG,EAAE,uBADN;AAECuC,IAAAA,KAAK,EAAE,SAASwC,qBAAT,GAAiC;AACpC,UAAI,CAAC,KAAKzE,KAAL,CAAW0E,gBAAZ,IAAgC,KAAK1E,KAAL,CAAW2E,cAA/C,EAA+D,OAAO,KAAKrB,YAAZ;AAC/D,UAAI,KAAKtD,KAAL,CAAW0E,gBAAf,EAAiC,OAAO,KAAK1E,KAAL,CAAW0E,gBAAlB;AACjC,aAAO,IAAP;AACH;AANF,GA9GmB,EAqHnB;AACChF,IAAAA,GAAG,EAAE,+BADN;AAECuC,IAAAA,KAAK,EAAE,SAAS2C,6BAAT,GAAyC;AAC5C,UAAI,CAAC,KAAK5E,KAAL,CAAW6E,wBAAZ,IAAwC,KAAK7E,KAAL,CAAW8E,sBAAvD,EAA+E,OAAO,KAAK5B,SAAZ;AAC/E,UAAI,KAAKlD,KAAL,CAAW6E,wBAAX,IAAuC,KAAK7E,KAAL,CAAW8E,sBAAtD,EAA8E,OAAO,KAAK9E,KAAL,CAAW6E,wBAAlB;AAC9E,aAAO,IAAP;AACH;AANF,GArHmB,EA4HnB;AACCnF,IAAAA,GAAG,EAAE,mBADN;AAECuC,IAAAA,KAAK,EAAE,SAAS8C,iBAAT,GAA6B;AAChC,UAAI,KAAK/E,KAAL,CAAWqD,YAAf,EAA6B,OAAO,KAAKrD,KAAL,CAAWqD,YAAlB;AAC7B,aAAO,KAAKA,YAAZ;AACH;AALF,GA5HmB,EAkInB;AACC3D,IAAAA,GAAG,EAAE,kBADN;AAECuC,IAAAA,KAAK,EAAE,SAAS+C,gBAAT,GAA4B;AAC/B,UAAI,KAAKhF,KAAL,CAAWiF,WAAf,EAA4B,OAAO,KAAKjF,KAAL,CAAWiF,WAAlB;AAC5B,aAAO,KAAK7B,YAAZ;AACH;AALF,GAlImB,EAwInB;AACC1D,IAAAA,GAAG,EAAE,kBADN;AAECuC,IAAAA,KAAK,EAAE,SAASiD,gBAAT,GAA4B;AAC/B,UAAI,KAAKlF,KAAL,CAAWmF,WAAf,EAA4B,OAAO,KAAKnF,KAAL,CAAWmF,WAAlB;AAC5B,aAAO,KAAKhC,QAAZ;AACH;AALF,GAxImB,EA8InB;AACCzD,IAAAA,GAAG,EAAE,iBADN;AAECuC,IAAAA,KAAK,EAAE,SAASmD,eAAT,CAAyBC,GAAzB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4C;AAC/C,UAAIC,MAAM,GAAG,EAAb;AACA,UAAIC,MAAM,GAAG,CAAb;;AACA,WAAK,IAAInG,CAAT,IAAciG,KAAd,EAAqB;AACjB,YAAIG,IAAI,GAAGH,KAAK,CAACjG,CAAD,CAAhB;AACA,YAAIqG,UAAU,GAAGD,IAAI,CAACE,WAAL,GAAmBP,GAApC;AACAG,QAAAA,MAAM,CAAClG,CAAD,CAAN,GAAY2E,IAAI,CAACC,KAAL,CAAWyB,UAAU,GAAGL,KAAxB,CAAZ;AACAG,QAAAA,MAAM,IAAID,MAAM,CAAClG,CAAD,CAAhB;AACH;;AAED,UAAIuG,aAAa,GAAGP,KAAK,GAAGG,MAA5B;;AACA,aAAOI,aAAa,GAAG,CAAvB,EAA0B;AACtB,aAAKvG,CAAL,IAAUkG,MAAV,EAAkB;AACdA,UAAAA,MAAM,CAAClG,CAAD,CAAN;AACAuG,UAAAA,aAAa;AACb,cAAIA,aAAa,GAAG,CAApB,EAAuB;AAC1B;AACJ;;AACD,aAAOL,MAAP;AACH;AArBF,GA9ImB,EAoKnB;AACC9F,IAAAA,GAAG,EAAE,eADN;AAECuC,IAAAA,KAAK,EAAE,SAAS6D,aAAT,CAAuBP,KAAvB,EAA8BzC,cAA9B,EAA8C;AACjD,UAAIiD,GAAG,GAAG,EAAV;AACA,UAAIV,GAAG,GAAG,CAAV;AACA,UAAIW,SAAS,GAAG,IAAI,KAAKhG,KAAL,CAAWiG,MAA/B;;AACA,aAAOV,KAAK,CAAC/F,MAAN,GAAe,CAAf,IAAoB6F,GAAG,GAAGvC,cAAjC,EAAiD;AAC7C,YAAI4C,IAAI,GAAGH,KAAK,CAACW,KAAN,EAAX;AACAH,QAAAA,GAAG,CAACI,IAAJ,CAAST,IAAT;AACAL,QAAAA,GAAG,IAAIK,IAAI,CAACE,WAAL,GAAmBI,SAA1B;AACH;;AAED,UAAIV,KAAK,GAAGD,GAAG,GAAGvC,cAAlB;;AACA,UAAIiD,GAAG,CAACvG,MAAJ,GAAa,CAAb,IAAkB8F,KAAK,GAAG,CAA9B,EAAiC;AAC7B,YAAIE,MAAM,GAAG,KAAKJ,eAAL,CAAqBC,GAArB,EAA0BC,KAA1B,EAAiCS,GAAjC,CAAb;;AACA,aAAK,IAAIzG,CAAT,IAAcyG,GAAd,EAAmB;AACf,cAAIK,cAAc,GAAGZ,MAAM,CAAClG,CAAD,CAA3B;AACAoG,UAAAA,IAAI,GAAGK,GAAG,CAACzG,CAAD,CAAV;AACAoG,UAAAA,IAAI,CAACW,UAAL,GAAkB,CAACpC,IAAI,CAACqC,GAAL,CAASrC,IAAI,CAACC,KAAL,CAAWkC,cAAc,GAAG,CAA5B,CAAT,CAAnB;AACAV,UAAAA,IAAI,CAACa,MAAL,GAAcb,IAAI,CAACE,WAAL,GAAmBQ,cAAjC;AACH;AACJ,OARD,MAQO;AACH,aAAK,IAAII,CAAT,IAAcT,GAAd,EAAmB;AACfL,UAAAA,IAAI,GAAGK,GAAG,CAACS,CAAD,CAAV;AACAd,UAAAA,IAAI,CAACW,UAAL,GAAkB,CAAlB;AACAX,UAAAA,IAAI,CAACa,MAAL,GAAcb,IAAI,CAACE,WAAnB;AACH;AACJ;;AACD,aAAOG,GAAP;AACH;AA7BF,GApKmB,EAkMnB;AACCrG,IAAAA,GAAG,EAAE,eADN;AAECuC,IAAAA,KAAK,EAAE,SAASwE,aAAT,CAAuBf,IAAvB,EAA6B;AAChCA,MAAAA,IAAI,CAACE,WAAL,GAAmB3B,IAAI,CAACC,KAAL,CAAW,KAAKlE,KAAL,CAAW0G,SAAX,IAAwBhB,IAAI,CAACiB,cAAL,GAAsBjB,IAAI,CAACkB,eAAnD,CAAX,CAAnB;AACH;AAJF,GAlMmB,EAuMnB;AACClH,IAAAA,GAAG,EAAE,cADN;AAECuC,IAAAA,KAAK,EAAE,SAAS4B,YAAT,CAAsBf,cAAtB,EAAsC;AACzC,UAAIL,MAAM,GAAGlD,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBsH,SAAzC,GAAqDtH,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAKiD,KAAL,CAAWC,MAA5F;AAEA,UAAI,CAACA,MAAL,EAAa,OAAO,EAAP;AACb,UAAIK,cAAc,IAAI,CAAtB,EAAyB,OAAO,EAAP;AAEzB,UAAIyC,KAAK,GAAG9C,MAAM,CAACqE,KAAP,EAAZ;;AACA,WAAK,IAAIC,CAAT,IAAcxB,KAAd,EAAqB;AACjB,aAAKkB,aAAL,CAAmBlB,KAAK,CAACwB,CAAD,CAAxB;AACH;;AAED,UAAIC,MAAM,GAAG,EAAb;AACA,UAAIC,IAAI,GAAG,EAAX;;AACA,aAAO1B,KAAK,CAAC/F,MAAN,GAAe,CAAtB,EAAyB;AACrByH,QAAAA,IAAI,CAACd,IAAL,CAAU,KAAKL,aAAL,CAAmBP,KAAnB,EAA0BzC,cAA1B,CAAV;AACH;;AAED,WAAK,IAAIoE,CAAT,IAAcD,IAAd,EAAoB;AAChB,aAAK,IAAI3H,CAAT,IAAc2H,IAAI,CAACC,CAAD,CAAlB,EAAuB;AACnB,cAAIxB,IAAI,GAAGuB,IAAI,CAACC,CAAD,CAAJ,CAAQ5H,CAAR,CAAX;;AACA,cAAI,KAAKU,KAAL,CAAW4D,OAAf,EAAwB;AACpB,gBAAIsD,CAAC,GAAG,KAAKlH,KAAL,CAAW4D,OAAnB,EAA4B;AACxBoD,cAAAA,MAAM,CAACb,IAAP,CAAYT,IAAZ;AACH;AACJ,WAJD,MAIO;AACHsB,YAAAA,MAAM,CAACb,IAAP,CAAYT,IAAZ;AACH;AACJ;AACJ;;AACD,aAAOsB,MAAP;AACH;AAhCF,GAvMmB,EAwOnB;AACCtH,IAAAA,GAAG,EAAE,QADN;AAECuC,IAAAA,KAAK,EAAE,SAASkF,MAAT,GAAkB;AACrB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAI3E,MAAM,GAAG,KAAKD,KAAL,CAAWE,UAAX,CAAsB2E,GAAtB,CAA0B,UAAU3B,IAAV,EAAgB4B,GAAhB,EAAqB;AACxD,eAAOxG,OAAO,CAACO,OAAR,CAAgBkG,aAAhB,CAA8BrG,OAAO,CAACG,OAAtC,EAA+C;AAClD3B,UAAAA,GAAG,EAAE,WAAW4H,GAAX,GAAiB,GAAjB,GAAuB5B,IAAI,CAAC8B,GADiB;AAElD9B,UAAAA,IAAI,EAAEA,IAF4C;AAGlDvB,UAAAA,KAAK,EAAEmD,GAH2C;AAIlDrB,UAAAA,MAAM,EAAEmB,MAAM,CAACpH,KAAP,CAAaiG,MAJ6B;AAKlDwB,UAAAA,MAAM,EAAEL,MAAM,CAACpH,KAAP,CAAa0G,SAL6B;AAMlDgB,UAAAA,YAAY,EAAEN,MAAM,CAACpH,KAAP,CAAa2H,oBANuB;AAOlDC,UAAAA,OAAO,EAAER,MAAM,CAAC3C,qBAAP,EAPyC;AAQlDlB,UAAAA,aAAa,EAAE6D,MAAM,CAAC7D,aAR4B;AASlDsE,UAAAA,QAAQ,EAAET,MAAM,CAACpH,KAAP,CAAa6H,QAT2B;AAUlDC,UAAAA,iBAAiB,EAAEV,MAAM,CAACpH,KAAP,CAAa8H,iBAVkB;AAWlDC,UAAAA,cAAc,EAAEX,MAAM,CAACpH,KAAP,CAAa+H,cAXqB;AAYlDC,UAAAA,uBAAuB,EAAEZ,MAAM,CAACpH,KAAP,CAAagI;AAZY,SAA/C,CAAP;AAcH,OAfY,CAAb;AAgBA,UAAIC,kBAAkB,GAAG;AACrBR,QAAAA,MAAM,EAAE,CADa;AAErBxB,QAAAA,MAAM,EAAE,CAFa;AAGrBiC,QAAAA,OAAO,EAAE,CAHY;AAIrBC,QAAAA,QAAQ,EAAE,QAJW;AAKrBC,QAAAA,WAAW,EAAE,CALQ;AAMrBC,QAAAA,QAAQ,EAAE,OANW;AAOrBC,QAAAA,eAAe,EAAE,aAPI;AAQrBC,QAAAA,KAAK,EAAE;AARc,OAAzB;AAUA,aAAOzH,OAAO,CAACO,OAAR,CAAgBkG,aAAhB,CACH,KADG,EAEH;AAAEiB,QAAAA,EAAE,EAAE,KAAKxI,KAAL,CAAWwI,EAAjB;AACIC,QAAAA,SAAS,EAAE,kBADf;AAEIC,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,CAAb,EAAgB;AACjB,iBAAOvB,MAAM,CAACtD,QAAP,GAAkB6E,CAAzB;AACH;AAJL,OAFG,EAOH7H,OAAO,CAACO,OAAR,CAAgBkG,aAAhB,CAA8B,QAA9B,EAAwC;AAAEqB,QAAAA,KAAK,EAAEX,kBAAT;AACpCS,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,CAAb,EAAgB;AACjB,iBAAOA,CAAC,IAAIA,CAAC,CAACE,aAAP,IAAwBF,CAAC,CAACE,aAAF,CAAgBC,gBAAhB,CAAiC,QAAjC,EAA2C1B,MAAM,CAACrE,QAAlD,CAA/B;AACH;AAHmC,OAAxC,CAPG,EAWHN,MAXG,EAYH3B,OAAO,CAACO,OAAR,CAAgBkG,aAAhB,CAA8BvG,aAAa,CAACK,OAA5C,EAAqDnC,QAAQ,CAAC;AAC1DuD,QAAAA,MAAM,EAAE,KAAKzC,KAAL,CAAWyC,MADuC;AAE1DsG,QAAAA,mBAAmB,EAAE,KAAK/I,KAAL,CAAW+I,mBAF0B;AAG1DlG,QAAAA,YAAY,EAAE,KAAKL,KAAL,CAAWK,YAHiC;AAI1DmG,QAAAA,gBAAgB,EAAE,KAAKhJ,KAAL,CAAWgJ,gBAJ6B;AAK1DC,QAAAA,cAAc,EAAE,KAAKjJ,KAAL,CAAWiJ,cAL+B;AAM1DC,QAAAA,mBAAmB,EAAE,KAAKlJ,KAAL,CAAWkJ,mBAN0B;AAO1DC,QAAAA,mBAAmB,EAAE,KAAKnJ,KAAL,CAAWmJ,mBAP0B;AAQ1DvG,QAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWG,cARuC;AAS1DU,QAAAA,YAAY,EAAE,KAAK0B,iBAAL,EAT4C;AAU1DI,QAAAA,WAAW,EAAE,KAAKD,gBAAL,EAV6C;AAW1DD,QAAAA,WAAW,EAAE,KAAKD,gBAAL,EAX6C;AAY1DoE,QAAAA,eAAe,EAAE,KAAKpJ,KAAL,CAAWoJ,eAZ8B;AAa1DC,QAAAA,cAAc,EAAE,KAAKrJ,KAAL,CAAWqJ,cAb+B;AAc1DC,QAAAA,OAAO,EAAE,KAAKrG,aAd4C;AAe1DsF,QAAAA,KAAK,EAAE,KAAKvI,KAAL,CAAWuJ,aAfwC;AAgB1DC,QAAAA,KAAK,EAAE,KAAKxJ,KAAL,CAAWwJ,KAhBwC;AAiB1D9E,QAAAA,gBAAgB,EAAE,KAAKE,6BAAL,EAjBwC;AAkB1D6E,QAAAA,cAAc,EAAE,KAAKzJ,KAAL,CAAW8E;AAlB+B,OAAD,EAmB1D,KAAK9E,KAAL,CAAW0J,aAnB+C,CAA7D,CAZG,CAAP;AAiCH;AAhEF,GAxOmB,CAAV,CAAZ;;AA2SA,SAAOtH,OAAP;AACH,CAvUa,CAuUZvB,MAAM,CAAC8I,SAvUK,CAAd;;AAyUAvH,OAAO,CAACwH,WAAR,GAAsB,SAAtB;AAEAxH,OAAO,CAACyH,SAAR,GAAoB;AAChBpH,EAAAA,MAAM,EAAE9B,WAAW,CAACU,OAAZ,CAAoByI,OAApB,CAA4BnJ,WAAW,CAACU,OAAZ,CAAoB0I,KAApB,CAA0B;AAC1DvC,IAAAA,GAAG,EAAE7G,WAAW,CAACU,OAAZ,CAAoB2I,MAApB,CAA2BC,UAD0B;AAE1DC,IAAAA,IAAI,EAAEvJ,WAAW,CAACU,OAAZ,CAAoB2I,MAFgC;AAG1DG,IAAAA,GAAG,EAAExJ,WAAW,CAACU,OAAZ,CAAoB2I,MAHiC;AAI1DI,IAAAA,SAAS,EAAEzJ,WAAW,CAACU,OAAZ,CAAoB2I,MAApB,CAA2BC,UAJoB;AAK1DI,IAAAA,MAAM,EAAE1J,WAAW,CAACU,OAAZ,CAAoBiJ,KAL8B;AAM1DC,IAAAA,OAAO,EAAE5J,WAAW,CAACU,OAAZ,CAAoB2I,MAN6B;AAO1DQ,IAAAA,IAAI,EAAE7J,WAAW,CAACU,OAAZ,CAAoByI,OAApB,CAA4BnJ,WAAW,CAACU,OAAZ,CAAoB0I,KAApB,CAA0B;AACxD9H,MAAAA,KAAK,EAAEtB,WAAW,CAACU,OAAZ,CAAoB2I,MAApB,CAA2BC,UADsB;AAExDQ,MAAAA,KAAK,EAAE9J,WAAW,CAACU,OAAZ,CAAoB2I,MAApB,CAA2BC;AAFsB,KAA1B,CAA5B,CAPoD;AAW1DtD,IAAAA,cAAc,EAAEhG,WAAW,CAACU,OAAZ,CAAoBqJ,MAApB,CAA2BT,UAXe;AAY1DrD,IAAAA,eAAe,EAAEjG,WAAW,CAACU,OAAZ,CAAoBqJ,MAApB,CAA2BT,UAZc;AAa1DU,IAAAA,UAAU,EAAEhK,WAAW,CAACU,OAAZ,CAAoBuJ,IAb0B;AAc1DC,IAAAA,gBAAgB,EAAElK,WAAW,CAACU,OAAZ,CAAoByJ,SAApB,CAA8B,CAACnK,WAAW,CAACU,OAAZ,CAAoB2I,MAArB,EAA6BrJ,WAAW,CAACU,OAAZ,CAAoB0J,OAAjD,CAA9B;AAdwC,GAA1B,CAA5B,EAeJd,UAhBY;AAiBhBzB,EAAAA,EAAE,EAAE7H,WAAW,CAACU,OAAZ,CAAoB2I,MAjBR;AAkBhBrC,EAAAA,oBAAoB,EAAEhH,WAAW,CAACU,OAAZ,CAAoBuJ,IAlB1B;AAmBhBrH,EAAAA,aAAa,EAAE5C,WAAW,CAACU,OAAZ,CAAoB2J,IAnBnB;AAoBhBtE,EAAAA,SAAS,EAAE/F,WAAW,CAACU,OAAZ,CAAoBqJ,MApBf;AAqBhB9G,EAAAA,OAAO,EAAEjD,WAAW,CAACU,OAAZ,CAAoBqJ,MArBb;AAsBhBzE,EAAAA,MAAM,EAAEtF,WAAW,CAACU,OAAZ,CAAoBqJ,MAtBZ;AAuBhBhG,EAAAA,gBAAgB,EAAE/D,WAAW,CAACU,OAAZ,CAAoB2J,IAvBtB;AAwBhB1G,EAAAA,gBAAgB,EAAE3D,WAAW,CAACU,OAAZ,CAAoB2J,IAxBtB;AAyBhBxG,EAAAA,iBAAiB,EAAE7D,WAAW,CAACU,OAAZ,CAAoB2J,IAzBvB;AA0BhBrG,EAAAA,cAAc,EAAEhE,WAAW,CAACU,OAAZ,CAAoBuJ,IA1BpB;AA2BhB7B,EAAAA,mBAAmB,EAAEpI,WAAW,CAACU,OAAZ,CAAoBuJ,IA3BzB;AA4BhB/H,EAAAA,YAAY,EAAElC,WAAW,CAACU,OAAZ,CAAoBqJ,MA5BlB;AA6BhB1B,EAAAA,gBAAgB,EAAErI,WAAW,CAACU,OAAZ,CAAoBuJ,IA7BtB;AA8BhB3B,EAAAA,cAAc,EAAEtI,WAAW,CAACU,OAAZ,CAAoByI,OAApB,CAA4BnJ,WAAW,CAACU,OAAZ,CAAoB4J,IAAhD,CA9BA;AA+BhB1G,EAAAA,sBAAsB,EAAE5D,WAAW,CAACU,OAAZ,CAAoB2J,IA/B5B;AAgChB9B,EAAAA,mBAAmB,EAAEvI,WAAW,CAACU,OAAZ,CAAoBuJ,IAhCzB;AAiChBzB,EAAAA,mBAAmB,EAAExI,WAAW,CAACU,OAAZ,CAAoB2I,MAjCzB;AAkChBpH,EAAAA,MAAM,EAAEjC,WAAW,CAACU,OAAZ,CAAoBuJ,IAlCZ;AAmChBvH,EAAAA,YAAY,EAAE1C,WAAW,CAACU,OAAZ,CAAoB2J,IAnClB;AAoChB7F,EAAAA,WAAW,EAAExE,WAAW,CAACU,OAAZ,CAAoB2J,IApCjB;AAqChB/F,EAAAA,WAAW,EAAEtE,WAAW,CAACU,OAAZ,CAAoB2J,IArCjB;AAsChB1B,EAAAA,OAAO,EAAE3I,WAAW,CAACU,OAAZ,CAAoB2J,IAtCb;AAuChB5B,EAAAA,eAAe,EAAEzI,WAAW,CAACU,OAAZ,CAAoBuJ,IAvCrB;AAwChBvB,EAAAA,cAAc,EAAE1I,WAAW,CAACU,OAAZ,CAAoBuJ,IAxCpB;AAyChBrB,EAAAA,aAAa,EAAE5I,WAAW,CAACU,OAAZ,CAAoBqJ,MAzCnB;AA0ChB5C,EAAAA,iBAAiB,EAAEnH,WAAW,CAACU,OAAZ,CAAoB2J,IA1CvB;AA2ChBjD,EAAAA,cAAc,EAAEpH,WAAW,CAACU,OAAZ,CAAoB2J,IA3CpB;AA4ChBlG,EAAAA,sBAAsB,EAAEnE,WAAW,CAACU,OAAZ,CAAoBuJ,IA5C5B;AA6ChB/F,EAAAA,wBAAwB,EAAElE,WAAW,CAACU,OAAZ,CAAoB2J,IA7C9B;AA8ChBnD,EAAAA,QAAQ,EAAElH,WAAW,CAACU,OAAZ,CAAoB6J,MA9Cd;AA+ChBlD,EAAAA,uBAAuB,EAAErH,WAAW,CAACU,OAAZ,CAAoB2J,IA/C7B;AAgDhBtB,EAAAA,aAAa,EAAE/I,WAAW,CAACU,OAAZ,CAAoB6J;AAhDnB,CAApB;AAmDA9I,OAAO,CAAC+I,YAAR,GAAuB;AACnB3C,EAAAA,EAAE,EAAE,kBADe;AAEnBb,EAAAA,oBAAoB,EAAE,IAFH;AAGnBjB,EAAAA,SAAS,EAAE,GAHQ;AAInBT,EAAAA,MAAM,EAAE,CAJW;AAKnBtB,EAAAA,cAAc,EAAE,IALG;AAMnBoE,EAAAA,mBAAmB,EAAE,KANF;AAOnBlG,EAAAA,YAAY,EAAE,CAPK;AAQnBmG,EAAAA,gBAAgB,EAAE,IARC;AASnBE,EAAAA,mBAAmB,EAAE,IATF;AAUnBC,EAAAA,mBAAmB,EAAE,MAVF;AAWnBvG,EAAAA,MAAM,EAAE,KAXW;AAYnBwG,EAAAA,eAAe,EAAE,IAZE;AAanBC,EAAAA,cAAc,EAAE,IAbG;AAcnBE,EAAAA,aAAa,EAAE,IAdI;AAenBzE,EAAAA,sBAAsB,EAAE,KAfL;AAgBnB4E,EAAAA,aAAa,EAAE;AAhBI,CAAvB;AAmBA0B,MAAM,CAACC,OAAP,GAAiBjJ,OAAjB","sourcesContent":["'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactImages = require('react-images');\n\nvar _reactImages2 = _interopRequireDefault(_reactImages);\n\nvar _Image = require('./Image.js');\n\nvar _Image2 = _interopRequireDefault(_Image);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Gallery = function (_Component) {\n    _inherits(Gallery, _Component);\n\n    function Gallery(props) {\n        _classCallCheck(this, Gallery);\n\n        var _this = _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).call(this, props));\n\n        _this.state = {\n            images: _this.props.images,\n            thumbnails: [],\n            lightboxIsOpen: _this.props.isOpen,\n            currentImage: _this.props.currentImage,\n            containerWidth: 0\n        };\n\n        _this.onResize = _this.onResize.bind(_this);\n        _this.closeLightbox = _this.closeLightbox.bind(_this);\n        _this.gotoImage = _this.gotoImage.bind(_this);\n        _this.gotoNext = _this.gotoNext.bind(_this);\n        _this.gotoPrevious = _this.gotoPrevious.bind(_this);\n        _this.onClickImage = _this.onClickImage.bind(_this);\n        _this.openLightbox = _this.openLightbox.bind(_this);\n        _this.onSelectImage = _this.onSelectImage.bind(_this);\n        return _this;\n    }\n\n    _createClass(Gallery, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.onResize();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(np) {\n            if (this.state.currentImage > np.images.length - 1) {\n                this.setState({ currentImage: np.images.length - 1 });\n            }\n            if (this.state.images != np.images || this.props.maxRows != np.maxRows) {\n                this.setState({\n                    images: np.images,\n                    thumbnails: this.renderThumbs(this._gallery.clientWidth, np.images)\n                });\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (!this._gallery) return;\n            if (this._gallery.clientWidth !== this.state.containerWidth) {\n                this.onResize();\n            }\n        }\n    }, {\n        key: 'onResize',\n        value: function onResize() {\n            if (!this._gallery) return;\n            this.setState({\n                containerWidth: Math.floor(this._gallery.clientWidth),\n                thumbnails: this.renderThumbs(this._gallery.clientWidth)\n            });\n        }\n    }, {\n        key: 'openLightbox',\n        value: function openLightbox(index, event) {\n            if (event) {\n                event.preventDefault();\n            }\n            if (this.props.lightboxWillOpen) {\n                this.props.lightboxWillOpen.call(this, index);\n            }\n            if (this.props.currentImageWillChange) {\n                this.props.currentImageWillChange.call(this, index);\n            }\n\n            this.setState({\n                currentImage: index,\n                lightboxIsOpen: true\n            });\n        }\n    }, {\n        key: 'closeLightbox',\n        value: function closeLightbox() {\n            if (this.props.lightboxWillClose) {\n                this.props.lightboxWillClose.call(this);\n            }\n            if (this.props.currentImageWillChange) {\n                this.props.currentImageWillChange.call(this, 0);\n            }\n\n            this.setState({\n                currentImage: 0,\n                lightboxIsOpen: false\n            });\n        }\n    }, {\n        key: 'gotoPrevious',\n        value: function gotoPrevious() {\n            if (this.props.currentImageWillChange) {\n                this.props.currentImageWillChange.call(this, this.state.currentImage - 1);\n            }\n            this.setState({\n                currentImage: this.state.currentImage - 1\n            });\n        }\n    }, {\n        key: 'gotoNext',\n        value: function gotoNext() {\n            if (this.props.currentImageWillChange) {\n                this.props.currentImageWillChange.call(this, this.state.currentImage + 1);\n            }\n            this.setState({\n                currentImage: this.state.currentImage + 1\n            });\n        }\n    }, {\n        key: 'onClickImage',\n        value: function onClickImage() {\n            if (this.state.currentImage === this.props.images.length - 1) return;\n            this.gotoNext();\n        }\n    }, {\n        key: 'onSelectImage',\n        value: function onSelectImage(index, event) {\n            event.preventDefault();\n            if (this.props.onSelectImage) this.props.onSelectImage.call(this, index, this.state.images[index]);\n        }\n    }, {\n        key: 'gotoImage',\n        value: function gotoImage(index) {\n            if (this.props.currentImageWillChange) {\n                this.props.currentImageWillChange.call(this, index);\n            }\n            this.setState({\n                currentImage: index\n            });\n        }\n    }, {\n        key: 'getOnClickThumbnailFn',\n        value: function getOnClickThumbnailFn() {\n            if (!this.props.onClickThumbnail && this.props.enableLightbox) return this.openLightbox;\n            if (this.props.onClickThumbnail) return this.props.onClickThumbnail;\n            return null;\n        }\n    }, {\n        key: 'getOnClickLightboxThumbnailFn',\n        value: function getOnClickLightboxThumbnailFn() {\n            if (!this.props.onClickLightboxThumbnail && this.props.showLightboxThumbnails) return this.gotoImage;\n            if (this.props.onClickLightboxThumbnail && this.props.showLightboxThumbnails) return this.props.onClickLightboxThumbnail;\n            return null;\n        }\n    }, {\n        key: 'getOnClickImageFn',\n        value: function getOnClickImageFn() {\n            if (this.props.onClickImage) return this.props.onClickImage;\n            return this.onClickImage;\n        }\n    }, {\n        key: 'getOnClickPrevFn',\n        value: function getOnClickPrevFn() {\n            if (this.props.onClickPrev) return this.props.onClickPrev;\n            return this.gotoPrevious;\n        }\n    }, {\n        key: 'getOnClickNextFn',\n        value: function getOnClickNextFn() {\n            if (this.props.onClickNext) return this.props.onClickNext;\n            return this.gotoNext;\n        }\n    }, {\n        key: 'calculateCutOff',\n        value: function calculateCutOff(len, delta, items) {\n            var cutoff = [];\n            var cutsum = 0;\n            for (var i in items) {\n                var item = items[i];\n                var fractOfLen = item.scaletwidth / len;\n                cutoff[i] = Math.floor(fractOfLen * delta);\n                cutsum += cutoff[i];\n            }\n\n            var stillToCutOff = delta - cutsum;\n            while (stillToCutOff > 0) {\n                for (i in cutoff) {\n                    cutoff[i]++;\n                    stillToCutOff--;\n                    if (stillToCutOff < 0) break;\n                }\n            }\n            return cutoff;\n        }\n    }, {\n        key: 'buildImageRow',\n        value: function buildImageRow(items, containerWidth) {\n            var row = [];\n            var len = 0;\n            var imgMargin = 2 * this.props.margin;\n            while (items.length > 0 && len < containerWidth) {\n                var item = items.shift();\n                row.push(item);\n                len += item.scaletwidth + imgMargin;\n            }\n\n            var delta = len - containerWidth;\n            if (row.length > 0 && delta > 0) {\n                var cutoff = this.calculateCutOff(len, delta, row);\n                for (var i in row) {\n                    var pixelsToRemove = cutoff[i];\n                    item = row[i];\n                    item.marginLeft = -Math.abs(Math.floor(pixelsToRemove / 2));\n                    item.vwidth = item.scaletwidth - pixelsToRemove;\n                }\n            } else {\n                for (var j in row) {\n                    item = row[j];\n                    item.marginLeft = 0;\n                    item.vwidth = item.scaletwidth;\n                }\n            }\n            return row;\n        }\n    }, {\n        key: 'setThumbScale',\n        value: function setThumbScale(item) {\n            item.scaletwidth = Math.floor(this.props.rowHeight * (item.thumbnailWidth / item.thumbnailHeight));\n        }\n    }, {\n        key: 'renderThumbs',\n        value: function renderThumbs(containerWidth) {\n            var images = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state.images;\n\n            if (!images) return [];\n            if (containerWidth == 0) return [];\n\n            var items = images.slice();\n            for (var t in items) {\n                this.setThumbScale(items[t]);\n            }\n\n            var thumbs = [];\n            var rows = [];\n            while (items.length > 0) {\n                rows.push(this.buildImageRow(items, containerWidth));\n            }\n\n            for (var r in rows) {\n                for (var i in rows[r]) {\n                    var item = rows[r][i];\n                    if (this.props.maxRows) {\n                        if (r < this.props.maxRows) {\n                            thumbs.push(item);\n                        }\n                    } else {\n                        thumbs.push(item);\n                    }\n                }\n            }\n            return thumbs;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var images = this.state.thumbnails.map(function (item, idx) {\n                return _react2.default.createElement(_Image2.default, {\n                    key: \"Image-\" + idx + \"-\" + item.src,\n                    item: item,\n                    index: idx,\n                    margin: _this2.props.margin,\n                    height: _this2.props.rowHeight,\n                    isSelectable: _this2.props.enableImageSelection,\n                    onClick: _this2.getOnClickThumbnailFn(),\n                    onSelectImage: _this2.onSelectImage,\n                    tagStyle: _this2.props.tagStyle,\n                    tileViewportStyle: _this2.props.tileViewportStyle,\n                    thumbnailStyle: _this2.props.thumbnailStyle,\n                    thumbnailImageComponent: _this2.props.thumbnailImageComponent\n                });\n            });\n            var resizeIframeStyles = {\n                height: 0,\n                margin: 0,\n                padding: 0,\n                overflow: \"hidden\",\n                borderWidth: 0,\n                position: \"fixed\",\n                backgroundColor: \"transparent\",\n                width: \"100%\"\n            };\n            return _react2.default.createElement(\n                'div',\n                { id: this.props.id,\n                    className: 'ReactGridGallery',\n                    ref: function ref(c) {\n                        return _this2._gallery = c;\n                    } },\n                _react2.default.createElement('iframe', { style: resizeIframeStyles,\n                    ref: function ref(c) {\n                        return c && c.contentWindow && c.contentWindow.addEventListener('resize', _this2.onResize);\n                    } }),\n                images,\n                _react2.default.createElement(_reactImages2.default, _extends({\n                    images: this.props.images,\n                    backdropClosesModal: this.props.backdropClosesModal,\n                    currentImage: this.state.currentImage,\n                    preloadNextImage: this.props.preloadNextImage,\n                    customControls: this.props.customControls,\n                    enableKeyboardInput: this.props.enableKeyboardInput,\n                    imageCountSeparator: this.props.imageCountSeparator,\n                    isOpen: this.state.lightboxIsOpen,\n                    onClickImage: this.getOnClickImageFn(),\n                    onClickNext: this.getOnClickNextFn(),\n                    onClickPrev: this.getOnClickPrevFn(),\n                    showCloseButton: this.props.showCloseButton,\n                    showImageCount: this.props.showImageCount,\n                    onClose: this.closeLightbox,\n                    width: this.props.lightboxWidth,\n                    theme: this.props.theme,\n                    onClickThumbnail: this.getOnClickLightboxThumbnailFn(),\n                    showThumbnails: this.props.showLightboxThumbnails\n                }, this.props.lightBoxProps))\n            );\n        }\n    }]);\n\n    return Gallery;\n}(_react.Component);\n\nGallery.displayName = 'Gallery';\n\nGallery.propTypes = {\n    images: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        src: _propTypes2.default.string.isRequired,\n        nano: _propTypes2.default.string,\n        alt: _propTypes2.default.string,\n        thumbnail: _propTypes2.default.string.isRequired,\n        srcset: _propTypes2.default.array,\n        caption: _propTypes2.default.string,\n        tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n            value: _propTypes2.default.string.isRequired,\n            title: _propTypes2.default.string.isRequired\n        })),\n        thumbnailWidth: _propTypes2.default.number.isRequired,\n        thumbnailHeight: _propTypes2.default.number.isRequired,\n        isSelected: _propTypes2.default.bool,\n        thumbnailCaption: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element])\n    })).isRequired,\n    id: _propTypes2.default.string,\n    enableImageSelection: _propTypes2.default.bool,\n    onSelectImage: _propTypes2.default.func,\n    rowHeight: _propTypes2.default.number,\n    maxRows: _propTypes2.default.number,\n    margin: _propTypes2.default.number,\n    onClickThumbnail: _propTypes2.default.func,\n    lightboxWillOpen: _propTypes2.default.func,\n    lightboxWillClose: _propTypes2.default.func,\n    enableLightbox: _propTypes2.default.bool,\n    backdropClosesModal: _propTypes2.default.bool,\n    currentImage: _propTypes2.default.number,\n    preloadNextImage: _propTypes2.default.bool,\n    customControls: _propTypes2.default.arrayOf(_propTypes2.default.node),\n    currentImageWillChange: _propTypes2.default.func,\n    enableKeyboardInput: _propTypes2.default.bool,\n    imageCountSeparator: _propTypes2.default.string,\n    isOpen: _propTypes2.default.bool,\n    onClickImage: _propTypes2.default.func,\n    onClickNext: _propTypes2.default.func,\n    onClickPrev: _propTypes2.default.func,\n    onClose: _propTypes2.default.func,\n    showCloseButton: _propTypes2.default.bool,\n    showImageCount: _propTypes2.default.bool,\n    lightboxWidth: _propTypes2.default.number,\n    tileViewportStyle: _propTypes2.default.func,\n    thumbnailStyle: _propTypes2.default.func,\n    showLightboxThumbnails: _propTypes2.default.bool,\n    onClickLightboxThumbnail: _propTypes2.default.func,\n    tagStyle: _propTypes2.default.object,\n    thumbnailImageComponent: _propTypes2.default.func,\n    lightBoxProps: _propTypes2.default.object\n};\n\nGallery.defaultProps = {\n    id: \"ReactGridGallery\",\n    enableImageSelection: true,\n    rowHeight: 180,\n    margin: 2,\n    enableLightbox: true,\n    backdropClosesModal: false,\n    currentImage: 0,\n    preloadNextImage: true,\n    enableKeyboardInput: true,\n    imageCountSeparator: ' of ',\n    isOpen: false,\n    showCloseButton: true,\n    showImageCount: true,\n    lightboxWidth: 1024,\n    showLightboxThumbnails: false,\n    lightBoxProps: {}\n};\n\nmodule.exports = Gallery;"]},"metadata":{},"sourceType":"script"}